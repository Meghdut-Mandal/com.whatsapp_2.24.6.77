package com.whatsapp.textstatuscomposer;

import X.AnonymousClass000;
import X.AnonymousClass001;
import X.AnonymousClass00C;
import X.AnonymousClass00F;
import X.AnonymousClass04H;
import X.AnonymousClass0IP;
import X.AnonymousClass11F;
import X.AnonymousClass143;
import X.AnonymousClass155;
import X.AnonymousClass16E;
import X.AnonymousClass17Y;
import X.AnonymousClass190;
import X.AnonymousClass1D0;
import X.AnonymousClass1DU;
import X.AnonymousClass1EM;
import X.AnonymousClass1GW;
import X.AnonymousClass1H2;
import X.AnonymousClass1JZ;
import X.AnonymousClass1N0;
import X.AnonymousClass1N2;
import X.AnonymousClass1N6;
import X.AnonymousClass1UM;
import X.AnonymousClass1US;
import X.AnonymousClass1X4;
import X.AnonymousClass1XN;
import X.AnonymousClass1XS;
import X.AnonymousClass2M8;
import X.AnonymousClass2MC;
import X.AnonymousClass2SV;
import X.AnonymousClass2bV;
import X.AnonymousClass2g6;
import X.AnonymousClass3BG;
import X.AnonymousClass3Bu;
import X.AnonymousClass3G2;
import X.AnonymousClass3HG;
import X.AnonymousClass3HH;
import X.AnonymousClass3J6;
import X.AnonymousClass3JL;
import X.AnonymousClass3L1;
import X.AnonymousClass3L2;
import X.AnonymousClass3L7;
import X.AnonymousClass3OJ;
import X.AnonymousClass3OM;
import X.AnonymousClass3QH;
import X.AnonymousClass3QP;
import X.AnonymousClass3SC;
import X.AnonymousClass3T1;
import X.AnonymousClass3UN;
import X.AnonymousClass3XN;
import X.AnonymousClass3XT;
import X.AnonymousClass3XU;
import X.AnonymousClass4U9;
import X.AnonymousClass4UW;
import X.AnonymousClass4UX;
import X.AnonymousClass4VI;
import X.AnonymousClass4XH;
import X.AnonymousClass4XX;
import X.AnonymousClass4ZD;
import X.AnonymousClass4ZK;
import X.AnonymousClass6Y4;
import X.AnonymousClass6YV;
import X.AnonymousClass9R1;
import X.C001700s;
import X.C012005e;
import X.C017307k;
import X.C017507m;
import X.C018107s;
import X.C018607y;
import X.C03570Gk;
import X.C07460Xt;
import X.C108225Sr;
import X.C115355ik;
import X.C125375zo;
import X.C1264664c;
import X.C1268765z;
import X.C145166tS;
import X.C146646vw;
import X.C148836zV;
import X.C148856zX;
import X.C160177ka;
import X.C160657lN;
import X.C177528dw;
import X.C18740tg;
import X.C18800tq;
import X.C18830tt;
import X.C19420v0;
import X.C195119So;
import X.C19770wU;
import X.C19890wg;
import X.C19970wo;
import X.C20800yB;
import X.C20810yC;
import X.C21000yV;
import X.C21010yW;
import X.C21060yb;
import X.C27111My;
import X.C27121Mz;
import X.C28331Sf;
import X.C28781Ua;
import X.C29551Xb;
import X.C29561Xc;
import X.C29731Xt;
import X.C29761Xw;
import X.C29771Xx;
import X.C31751cK;
import X.C34911hq;
import X.C35011i0;
import X.C35371ia;
import X.C35661j3;
import X.C36321k7;
import X.C36331k8;
import X.C36341k9;
import X.C36351kA;
import X.C36361kB;
import X.C36371kC;
import X.C36381kD;
import X.C36391kE;
import X.C36401kF;
import X.C36411kG;
import X.C36421kH;
import X.C36431kI;
import X.C36441kJ;
import X.C39281rd;
import X.C39471sS;
import X.C44152Mc;
import X.C46812bi;
import X.C48772i1;
import X.C48902iF;
import X.C51292na;
import X.C54532t6;
import X.C55042ty;
import X.C55512uk;
import X.C55802vD;
import X.C57082xf;
import X.C57902z0;
import X.C57912z1;
import X.C57922z2;
import X.C57932z3;
import X.C606538v;
import X.C61463Bz;
import X.C61643Cw;
import X.C63663Kx;
import X.C64483Od;
import X.C64883Pu;
import X.C65013Qj;
import X.C65963Ud;
import X.C66783Xh;
import X.C67103Yn;
import X.C67223Yz;
import X.C74293lN;
import X.C79953uY;
import X.C79963uZ;
import X.C81183wb;
import X.C87354Ol;
import X.C88154Rp;
import X.C88184Rs;
import X.C88264Sa;
import X.C88314Sf;
import X.C89374Wh;
import X.C89384Wi;
import X.C89564Xa;
import X.C89604Xe;
import X.C89914Yj;
import X.C89944Ym;
import X.C90104Zc;
import X.C90144Zg;
import X.C91184bb;
import android.animation.LayoutTransition;
import android.app.Dialog;
import android.content.Intent;
import android.content.res.Configuration;
import android.graphics.drawable.Drawable;
import android.graphics.drawable.GradientDrawable;
import android.os.Bundle;
import android.os.Handler;
import android.text.InputFilter;
import android.text.TextUtils;
import android.util.DisplayMetrics;
import android.view.KeyEvent;
import android.view.MotionEvent;
import android.view.View;
import android.view.ViewGroup;
import android.view.ViewTreeObserver;
import android.view.Window;
import android.view.animation.DecelerateInterpolator;
import android.widget.ImageButton;
import android.widget.ImageView;
import android.widget.ScrollView;
import android.widget.TextView;
import androidx.coordinatorlayout.widget.CoordinatorLayout;
import com.whatsapp.KeyboardPopupLayout;
import com.whatsapp.R;
import com.whatsapp.TextData;
import com.whatsapp.bridge.wfal.WfalManager;
import com.whatsapp.emoji.search.EmojiSearchContainer;
import com.whatsapp.emoji.search.EmojiSearchKeyboardContainer;
import com.whatsapp.emoji.search.EmojiSearchProvider;
import com.whatsapp.expressionstray.conversation.ExpressionsBottomSheetView;
import com.whatsapp.gifsearch.GifSearchContainer;
import com.whatsapp.mediacomposer.bottombar.recipients.DefaultRecipientsView;
import com.whatsapp.status.posting.FirstStatusConfirmationDialogFragment;
import com.whatsapp.status.privacy.StatusPrivacyBottomSheetDialogFragment;
import com.whatsapp.status.widget.StatusEditText;
import com.whatsapp.textstatuscomposer.bottombar.CreationModeBottomBar;
import com.whatsapp.textstatuscomposer.voice.VoiceRecordingView;
import com.whatsapp.util.Log;
import com.whatsapp.webpagepreview.WebPagePreviewView;
import java.io.File;
import java.util.ArrayList;
import java.util.Collections;
import java.util.Iterator;
import java.util.List;
import java.util.Objects;

public class TextStatusComposerActivity extends AnonymousClass155 implements AnonymousClass4U9, AnonymousClass4UW, C31751cK, C160177ka, C88184Rs, C88154Rp, C87354Ol {
    public static final int[] A19 = {R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved};
    public static final int[] A1A = {R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved, R.string.f12nameremoved};
    public C001700s A00;
    public int A01;
    public int A02;
    public DisplayMetrics A03;
    public View A04;
    public ViewGroup A05;
    public ViewGroup A06;
    public ImageButton A07;
    public ScrollView A08;
    public TextView A09;
    public CoordinatorLayout A0A;
    public C57082xf A0B;
    public AnonymousClass3Bu A0C;
    public C57902z0 A0D;
    public C57912z1 A0E;
    public C57932z3 A0F;
    public KeyboardPopupLayout A0G;
    public AnonymousClass1X4 A0H;
    public C145166tS A0I;
    public WfalManager A0J;
    public C39471sS A0K;
    public AnonymousClass3HG A0L;
    public AnonymousClass16E A0M;
    public AnonymousClass1XN A0N;
    public EmojiSearchKeyboardContainer A0O;
    public C125375zo A0P;
    public C44152Mc A0Q;
    public C21010yW A0R;
    public AnonymousClass3HH A0S;
    public AnonymousClass3L7 A0T;
    public C39281rd A0U;
    public AnonymousClass1DU A0V;
    public AnonymousClass1D0 A0W;
    public AnonymousClass3G2 A0X;
    public C91184bb A0Y;
    public C19890wg A0Z;
    public C1264664c A0a;
    public C64883Pu A0b;
    public C28331Sf A0c;
    public C29561Xc A0d;
    public C29731Xt A0e;
    public StatusEditText A0f;
    public C146646vw A0g;
    public AnonymousClass3OJ A0h;
    public VoiceRecordingView A0i;
    public C148836zV A0j;
    public AnonymousClass1N6 A0k;
    public AnonymousClass1EM A0l;
    public C34911hq A0m;
    public WebPagePreviewView A0n;
    public AnonymousClass1UM A0o;
    public C35011i0 A0p;
    public C28781Ua A0q;
    public String A0r;
    public boolean A0s;
    public int A0t;
    public int A0u;
    public int A0v;
    public AnonymousClass2M8 A0w;
    public AnonymousClass2MC A0x;
    public boolean A0y;
    public boolean A0z;
    public boolean A10;
    public boolean A11;
    public final C001700s A12;
    public final C88314Sf A13;
    public final Runnable A14;
    public final Handler A15;
    public final View.OnClickListener A16;
    public final C61643Cw A17;
    public final int[] A18;

    /* JADX WARNING: Code restructure failed: missing block: B:3:0x0016, code lost:
        if (X.C20800yB.A01(X.C21000yV.A01, r14.A0D, 2531) == false) goto L_0x0018;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    private void A0G(X.AnonymousClass3XT r15) {
        /*
            r14 = this;
            r3 = r14
            X.00s r0 = r14.A12
            r0.A0D(r15)
            boolean r0 = r14.A0s
            r9 = 0
            if (r0 != 0) goto L_0x0018
            X.0yC r2 = r14.A0D
            X.0yV r1 = X.C21000yV.A01
            r0 = 2531(0x9e3, float:3.547E-42)
            boolean r0 = X.C20800yB.A01(r1, r2, r0)
            r6 = 0
            if (r0 != 0) goto L_0x0019
        L_0x0018:
            r6 = -1
        L_0x0019:
            int r5 = r15.A00
            if (r5 != 0) goto L_0x0030
            r4 = 0
        L_0x001e:
            X.0wU r1 = r14.A04
            X.3Bu r2 = r14.A0C
            r7 = 0
            r10 = 0
            r11 = 0
            r12 = 0
            r13 = 0
            X.2ji r0 = r2.A00(r3, r4, r5, r6, r7, r9, r10, r11, r12, r13)
            X.C36391kE.A1Q(r0, r1)
            return
        L_0x0030:
            r0 = 1
            if (r5 != r0) goto L_0x003a
            java.util.List r0 = r15.A01
        L_0x0035:
            java.util.ArrayList r4 = X.C36441kJ.A15(r0)
            goto L_0x001e
        L_0x003a:
            java.util.List r0 = r15.A02
            goto L_0x0035
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.textstatuscomposer.TextStatusComposerActivity.A0G(X.3XT):void");
    }

    public static void A0H(AnonymousClass3XU r12, TextStatusComposerActivity textStatusComposerActivity) {
        String str;
        AnonymousClass3XN r0;
        AnonymousClass3XN r02;
        TextStatusComposerActivity textStatusComposerActivity2 = textStatusComposerActivity;
        if (textStatusComposerActivity.A0f.getText() != null) {
            str = C36331k8.A0f(textStatusComposerActivity.A0f);
        } else {
            str = "";
        }
        ArrayList A0I2 = AnonymousClass001.A0I();
        A0I2.add(C177528dw.A00);
        AnonymousClass3XN r1 = r12.A01;
        if (r1.A01 > 0) {
            r0 = r1;
        } else {
            r0 = r12.A02;
        }
        int i = r0.A01;
        if (r1.A00 > 0) {
            r02 = r1;
        } else {
            r02 = r12.A02;
        }
        textStatusComposerActivity2.startActivityForResult(AnonymousClass190.A1K(textStatusComposerActivity2, r12.A02.A02, r1.A02, r12.A03.A02, A0I2, r12.A00, 22, false, true).putExtra("media_width", i).putExtra("media_height", r02.A00).putExtra("caption", str), 1);
    }

    public static void A0k(TextStatusComposerActivity textStatusComposerActivity, int i) {
        if (i == 2) {
            int dimensionPixelSize = textStatusComposerActivity.getResources().getDimensionPixelSize(R.dimen.f7nameremoved);
            textStatusComposerActivity.A09.setPadding(0, dimensionPixelSize, dimensionPixelSize, 0);
            return;
        }
        textStatusComposerActivity.A09.setPadding(0, 0, 0, 0);
    }

    public boolean A2g() {
        return true;
    }

    public void BYZ() {
    }

    public void BeL(boolean z) {
        this.A0s = true;
        if (this.A0D.A0E(6132)) {
            boolean z2 = true;
            this.A0s = z;
            if (!this.A0q.A00()) {
                z2 = false;
            }
            StatusPrivacyBottomSheetDialogFragment A002 = C55512uk.A00(z2);
            this.A0b.A03(A002.A0b(), (AnonymousClass3XT) this.A12.A04());
            Btm(A002);
            Dialog dialog = A002.A02;
            if (dialog != null) {
                C18740tg.A06(dialog);
                dialog.setOnDismissListener(new C89914Yj(this, 6));
                return;
            }
            return;
        }
        A0o(z);
    }

    public void BhS(int i) {
    }

    public void BhU(int i) {
    }

    private void A01() {
        GradientDrawable.Orientation orientation = GradientDrawable.Orientation.TOP_BOTTOM;
        int[] A1O = C36441kJ.A1O();
        A1O[0] = (this.A01 & 16777215) | -436207616;
        A1O[1] = 0;
        GradientDrawable gradientDrawable = new GradientDrawable(orientation, A1O);
        gradientDrawable.setCornerRadius(0.0f);
        ViewGroup viewGroup = this.A05;
        if (viewGroup != null) {
            viewGroup.setBackground(gradientDrawable);
        }
    }

    private void A07() {
        if (this.A0g != null) {
            ArrayList A0I2 = AnonymousClass001.A0I();
            A0I2.add(C177528dw.A00.getRawString());
            Intent A0D2 = C36431kI.A0D();
            A0D2.putExtra("jids", A0I2);
            this.A0g.A01(A0D2);
        }
    }

    private void A0F() {
        int i;
        DisplayMetrics displayMetrics = this.A03;
        float f = ((float) displayMetrics.widthPixels) / displayMetrics.density;
        ViewGroup.MarginLayoutParams A0a2 = AnonymousClass000.A0a(this.A06);
        ViewGroup.MarginLayoutParams A0a3 = AnonymousClass000.A0a(this.A0f);
        if (f > 360.0f) {
            i = this.A0t;
        } else {
            i = this.A0u;
        }
        int i2 = this.A0v;
        A0a2.setMargins(i, i2, i, i2);
        A0a3.setMargins(i, this.A0v, i, 0);
        this.A06.requestLayout();
        this.A0f.requestLayout();
    }

    public static void A0I(TextStatusComposerActivity textStatusComposerActivity) {
        if (AnonymousClass1N2.A00(textStatusComposerActivity.A0f)) {
            textStatusComposerActivity.A0C.A01(textStatusComposerActivity.A0f);
        }
    }

    public static void A0J(TextStatusComposerActivity textStatusComposerActivity) {
        if (textStatusComposerActivity.A06.getVisibility() == 0) {
            AnonymousClass4VI.A00(textStatusComposerActivity, C36441kJ.A02(textStatusComposerActivity.A06), 0.0f, 8);
        }
    }

    public static void A0K(TextStatusComposerActivity textStatusComposerActivity) {
        if (textStatusComposerActivity.A0i != null && textStatusComposerActivity.A0j != null) {
            C018607y.A01((ViewGroup) textStatusComposerActivity.A00);
            View view = textStatusComposerActivity.A00;
            Objects.requireNonNull(view);
            VoiceRecordingView voiceRecordingView = textStatusComposerActivity.A0i;
            StatusEditText statusEditText = textStatusComposerActivity.A0f;
            boolean A1a = C36331k8.A1a(voiceRecordingView, statusEditText);
            C017507m r1 = new C017507m(3);
            r1.A08(statusEditText);
            r1.A08(voiceRecordingView);
            r1.A02 = 0;
            AnonymousClass0IP r0 = new AnonymousClass0IP();
            r0.A08(voiceRecordingView);
            r0.A02 = 0;
            C017307k r2 = new C017307k();
            r2.A03 = A1a;
            r2.A0a(r1);
            r2.A0a(r0);
            r2.A0Y(new DecelerateInterpolator());
            r2.A0X(300);
            C018607y.A02((ViewGroup) view, r2);
            C018607y.A01(textStatusComposerActivity.A05);
            ViewGroup viewGroup = textStatusComposerActivity.A05;
            ImageButton imageButton = textStatusComposerActivity.A07;
            TextView textView = textStatusComposerActivity.A09;
            C017507m r22 = new C017507m(C36341k9.A1a(imageButton, textView) ? 1 : 0);
            r22.A08(imageButton);
            r22.A08(textView);
            r22.A02 = 0;
            r22.A06(300);
            r22.A07(new DecelerateInterpolator());
            C018607y.A02(viewGroup, r22);
            textStatusComposerActivity.A0f.setVisibility(0);
            textStatusComposerActivity.A0i.setScaleX(0.0f);
            textStatusComposerActivity.A0i.setScaleY(0.0f);
            textStatusComposerActivity.A0i.setVisibility(4);
            textStatusComposerActivity.A07.setVisibility(0);
            textStatusComposerActivity.A09.setVisibility(0);
        }
    }

    public static void A0L(TextStatusComposerActivity textStatusComposerActivity) {
        int i = textStatusComposerActivity.A01;
        int[] iArr = AnonymousClass3UN.A01;
        int i2 = 0;
        while (true) {
            if (iArr[i2] != i) {
                i2++;
                if (i2 >= 21) {
                    i2 = -1;
                    break;
                }
            } else {
                break;
            }
        }
        textStatusComposerActivity.A01 = iArr[(i2 + 1) % 21];
        textStatusComposerActivity.A01();
        A0i(textStatusComposerActivity);
    }

    public static void A0M(TextStatusComposerActivity textStatusComposerActivity) {
        List singletonList;
        String str;
        AnonymousClass3L1 r1;
        C88264Sa r10;
        TextStatusComposerActivity textStatusComposerActivity2 = textStatusComposerActivity;
        C146646vw r12 = textStatusComposerActivity2.A0g;
        if (r12 != null) {
            singletonList = Collections.unmodifiableList(r12.A0A);
            AnonymousClass00C.A08(singletonList);
        } else {
            singletonList = Collections.singletonList(C177528dw.A00);
        }
        if (textStatusComposerActivity2.A0f.getText() != null) {
            str = C36331k8.A0f(textStatusComposerActivity2.A0f);
        } else {
            str = "";
        }
        if (!AnonymousClass6YV.A0P(textStatusComposerActivity2.A08, textStatusComposerActivity2.A0Z, str)) {
            textStatusComposerActivity2.A05.A06(R.string.f12nameremoved, 1);
        } else if (!textStatusComposerActivity2.A0q(singletonList)) {
            C146646vw r5 = textStatusComposerActivity2.A0g;
            if (r5 != null) {
                C1268765z r3 = r5.A06;
                if (r3.A00 == C108225Sr.SEND_TEXT) {
                    r3.A00();
                    ImageButton imageButton = ((CreationModeBottomBar) r5.A0J).A04;
                    if (imageButton == null) {
                        throw C36331k8.A0d("sendButton");
                    }
                    imageButton.setEnabled(false);
                }
            }
            boolean A092 = AnonymousClass3UN.A09(textStatusComposerActivity2.A0I, AnonymousClass3UN.A02(textStatusComposerActivity2.A0V, str));
            AnonymousClass1X4 r9 = textStatusComposerActivity2.A0H;
            C39471sS r14 = textStatusComposerActivity2.A0K;
            int i = textStatusComposerActivity2.A01;
            int i2 = textStatusComposerActivity2.A02;
            C145166tS r102 = textStatusComposerActivity2.A0I;
            C001700s r7 = textStatusComposerActivity2.A12;
            AnonymousClass3XT r8 = (AnonymousClass3XT) r7.A04();
            Objects.requireNonNull(r8);
            int A022 = C36431kI.A02(textStatusComposerActivity2.getIntent(), "entry_point");
            TextData textData = new TextData();
            textData.backgroundColor = i;
            textData.textColor = -1;
            textData.fontStyle = i2;
            if (r14 != null) {
                r1 = r14.A04;
            } else {
                r1 = null;
            }
            C606538v r2 = new C606538v(r102);
            r2.A00 = r1;
            r2.A02 = A092;
            r2.A01 = true;
            if (r2.A03 == null) {
                r10 = C79963uZ.A00;
            } else {
                r10 = new C79953uY(r2);
            }
            C29551Xb r22 = r9.A16;
            C177528dw r15 = C177528dw.A00;
            AnonymousClass2bV A002 = r22.A00(r15, (AnonymousClass3T1) null, r10, AnonymousClass3UN.A07(str), (List) null, C19970wo.A00(r9.A0K));
            r9.A0T(A002);
            A002.A1Z(textData);
            A002.A09 = A022;
            A002.A0p(r8);
            AnonymousClass1X4 r103 = textStatusComposerActivity2.A0H;
            C39471sS r52 = textStatusComposerActivity2.A0K;
            C145166tS r11 = textStatusComposerActivity2.A0I;
            AnonymousClass3XT r122 = (AnonymousClass3XT) r7.A04();
            Objects.requireNonNull(r122);
            boolean z = textStatusComposerActivity2.A0s;
            boolean z2 = !singletonList.equals(Collections.singletonList(r15));
            if (AnonymousClass143.A0N(singletonList)) {
                C29561Xc r82 = r103.A1C;
                if (r82.A00()) {
                    A002.A0j(262144);
                }
                if (r52 != null) {
                    AnonymousClass4UX r72 = r52.A0b;
                    if (r72.Bt3()) {
                        if (r82.A00()) {
                            A002.A0j(262144);
                        }
                        r103.A0X.A0m(A002, 1);
                        r103.A1D.A08(A002, "request", C55802vD.A00(r103.A0h, A002, r103.A18, r103.A19), 0, z, z2);
                        r72.Baz(A002);
                        long BIK = r72.BIK();
                        if (BIK > 0) {
                            r103.A02.A0I(new C35371ia(r103, r52, A002, r72, 6), BIK);
                        }
                    }
                }
                r103.A0X.A0h(A002);
                r103.A1D.A08(A002, "request", C55802vD.A00(r103.A0h, A002, r103.A18, r103.A19), 0, z, z2);
            }
            ArrayList A0I2 = AnonymousClass001.A0I();
            for (Object next : singletonList) {
                if (!(next instanceof C177528dw)) {
                    A0I2.add(next);
                }
            }
            if (A0I2.size() > 0) {
                r103.A0D(r11, r122, (AnonymousClass3JL) null, (C63663Kx) null, (AnonymousClass3BG) null, (AnonymousClass3T1) null, (AnonymousClass3L1) null, (AnonymousClass4UX) null, (Integer) null, str, A0I2, (List) null, false, false, false);
            }
            AnonymousClass3XT r23 = A002.A0c.A01;
            if (r23 != null && r23.A03 && AnonymousClass6Y4.A07(A002) && textStatusComposerActivity2.A0q.A00() && textStatusComposerActivity2.A0q.A01.A0E(4437)) {
                C35011i0 r6 = textStatusComposerActivity2.A0p;
                r6.A03.Boy(new C35661j3(A002, textStatusComposerActivity2, r6, 23));
            }
            textStatusComposerActivity2.A0n(singletonList);
        }
    }

    public static void A0Q(TextStatusComposerActivity textStatusComposerActivity) {
        File file;
        List singletonList;
        TextStatusComposerActivity textStatusComposerActivity2 = textStatusComposerActivity;
        C148836zV r3 = textStatusComposerActivity2.A0j;
        if (r3 != null && textStatusComposerActivity2.A0i != null && (file = r3.A08) != null) {
            C148856zX r0 = r3.A07;
            if (r0 != null) {
                C148856zX.A01(r0);
            }
            C146646vw r02 = textStatusComposerActivity2.A0g;
            if (r02 != null) {
                singletonList = Collections.unmodifiableList(r02.A0A);
                AnonymousClass00C.A08(singletonList);
            } else {
                singletonList = Collections.singletonList(C177528dw.A00);
            }
            if (!textStatusComposerActivity2.A0q(singletonList)) {
                C146646vw r6 = textStatusComposerActivity2.A0g;
                if (r6 != null) {
                    C1268765z r5 = r6.A06;
                    if (r5.A00 == C108225Sr.SEND_VOICE) {
                        r5.A00();
                        ImageButton imageButton = ((CreationModeBottomBar) r6.A0J).A04;
                        if (imageButton == null) {
                            throw C36331k8.A0d("sendButton");
                        }
                        imageButton.setEnabled(false);
                    }
                }
                AnonymousClass3QP r9 = new AnonymousClass3QP(textStatusComposerActivity2.A0j.A0B, textStatusComposerActivity2.A01, 0, 0, 0);
                AnonymousClass1X4 r52 = textStatusComposerActivity2.A0H;
                AnonymousClass3XT r4 = (AnonymousClass3XT) textStatusComposerActivity2.A12.A04();
                Objects.requireNonNull(r4);
                boolean z = textStatusComposerActivity2.A0s;
                boolean z2 = !singletonList.equals(Collections.singletonList(C177528dw.A00));
                C65013Qj r14 = new C65013Qj();
                r14.A0I = file;
                int A042 = AnonymousClass1GW.A04(file);
                ArrayList A0I2 = AnonymousClass001.A0I();
                Iterator it = singletonList.iterator();
                while (it.hasNext()) {
                    AnonymousClass11F A0a2 = C36401kF.A0a(it);
                    C46812bi A002 = r52.A12.A00(r14, A0a2, (AnonymousClass3T1) null, file.getName(), C19970wo.A00(r52.A0K), file.length(), false);
                    A002.A0B = A042;
                    A002.A1j(r9);
                    if (A0a2 instanceof C177528dw) {
                        Objects.requireNonNull(r4);
                        A002.A0p(r4);
                    }
                    A0I2.add(A002);
                }
                r52.A0b(new AnonymousClass3SC(A0I2), (byte[]) null, z, z2);
                textStatusComposerActivity2.A0n(singletonList);
            }
        }
    }

    public static void A0h(TextStatusComposerActivity textStatusComposerActivity) {
        View view = textStatusComposerActivity.A04;
        if (view != null) {
            view.setVisibility(0);
            textStatusComposerActivity.A04.setAlpha(0.0f);
            textStatusComposerActivity.A04.animate().alpha(1.0f).setDuration(320).start();
            AnonymousClass17Y r0 = textStatusComposerActivity.A05;
            Runnable runnable = textStatusComposerActivity.A14;
            r0.A0G(runnable);
            textStatusComposerActivity.A05.A0I(runnable, 3500);
        }
    }

    public static void A0j(TextStatusComposerActivity textStatusComposerActivity) {
        if (textStatusComposerActivity.A0c.A00.A0E(7597)) {
            textStatusComposerActivity.A07.setBackground(textStatusComposerActivity.A0Y);
        }
        textStatusComposerActivity.A07.setImageResource(R.drawable.ib_emoji);
        C36331k8.A0q(textStatusComposerActivity, textStatusComposerActivity.A07, R.string.f12nameremoved);
    }

    /* JADX WARNING: Code restructure failed: missing block: B:28:0x014d, code lost:
        if (r2.A0Q == null) goto L_0x014f;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:30:0x0150, code lost:
        if (r2 != null) goto L_0x0152;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:31:0x0152, code lost:
        r0 = r2.A05;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:32:0x0154, code lost:
        if (r0 == null) goto L_0x0168;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:34:0x0158, code lost:
        if (r0.A00 <= 0) goto L_0x0168;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:35:0x015a, code lost:
        r9.A0n.A0O(r4, false);
        r6.setLayoutParams(r5);
        X.AnonymousClass3UN.A08(r9, r9.A06);
     */
    /* JADX WARNING: Code restructure failed: missing block: B:36:0x0167, code lost:
        return;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:37:0x0168, code lost:
        X.C36411kG.A1D(r9.A0n.A0I);
        r4 = r1;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public static void A0l(com.whatsapp.textstatuscomposer.TextStatusComposerActivity r9, int r10) {
        /*
            X.6tS r0 = r9.A0I
            if (r0 == 0) goto L_0x0171
            android.graphics.Bitmap r4 = r0.A0B()
            X.6tS r0 = r9.A0I
            r1 = 0
            if (r0 == 0) goto L_0x0118
            android.graphics.Bitmap r3 = r0.A0B()
            if (r3 == 0) goto L_0x0118
            X.0yC r0 = r9.A0D
            X.AnonymousClass00C.A0D(r0, r1)
            X.6tS r0 = r9.A0I
            boolean r0 = X.AnonymousClass3UN.A09(r0, r10)
            if (r0 == 0) goto L_0x0118
            android.util.DisplayMetrics r2 = r9.A03
            int r0 = r2.heightPixels
            float r1 = (float) r0
            float r0 = r2.density
            float r1 = r1 / r0
            r0 = 1142947840(0x44200000, float:640.0)
            int r0 = (r1 > r0 ? 1 : (r1 == r0 ? 0 : -1))
            if (r0 < 0) goto L_0x0118
            android.content.res.Resources r1 = r9.getResources()
            r0 = 2131168455(0x7f070cc7, float:1.7951212E38)
            int r2 = r1.getDimensionPixelSize(r0)
            android.widget.ScrollView r0 = r9.A08
            int r1 = r0.getHeight()
            com.whatsapp.status.widget.StatusEditText r0 = r9.A0f
            int r0 = r0.getHeight()
            int r1 = r1 - r0
            com.whatsapp.webpagepreview.WebPagePreviewView r0 = r9.A0n
            android.widget.LinearLayout r0 = r0.A08
            int r0 = r0.getHeight()
            int r1 = r1 - r0
            if (r1 < r2) goto L_0x0118
            android.content.res.Resources r1 = r9.getResources()
            r0 = 2131168456(0x7f070cc8, float:1.7951214E38)
            float r1 = X.C36441kJ.A00(r1, r0)
            android.util.DisplayMetrics r0 = r9.A03
            float r0 = r0.density
            float r1 = r1 / r0
            int r1 = (int) r1
            int r0 = r3.getWidth()
            if (r0 < r1) goto L_0x0118
            if (r4 == 0) goto L_0x0118
            X.1sS r0 = r9.A0K
            boolean r0 = r0.A0Y()
            if (r0 == 0) goto L_0x0078
            X.1sS r1 = r9.A0K
            r0 = 0
            r1.A0X(r0)
        L_0x0078:
            android.content.res.Resources r1 = r9.getResources()
            r0 = 2131168456(0x7f070cc8, float:1.7951214E38)
            int r6 = r1.getDimensionPixelSize(r0)
            com.whatsapp.webpagepreview.WebPagePreviewView r1 = r9.A0n
            r0 = 2131428555(0x7f0b04cb, float:1.8478758E38)
            android.widget.ImageView r3 = X.C36391kE.A0N(r1, r0)
            android.view.ViewGroup$MarginLayoutParams r2 = X.AnonymousClass000.A0a(r3)
            com.whatsapp.webpagepreview.WebPagePreviewView r0 = r9.A0n
            r0.A0E()
            com.whatsapp.webpagepreview.WebPagePreviewView r0 = r9.A0n
            android.widget.LinearLayout r0 = r0.A08
            int r7 = r0.getHeight()
            r1 = 1068708659(0x3fb33333, float:1.4)
            int r0 = r4.getWidth()
            float r0 = (float) r0
            float r0 = r0 * r1
            int r8 = (int) r0
            int r5 = r4.getHeight()
            int r5 = r5 * r6
            int r0 = r4.getWidth()
            int r5 = r5 / r0
            android.widget.ScrollView r0 = r9.A08
            int r1 = r0.getHeight()
            com.whatsapp.status.widget.StatusEditText r0 = r9.A0f
            int r0 = r0.getHeight()
            int r1 = r1 - r0
            int r1 = r1 - r7
            int r0 = java.lang.Math.min(r5, r1)
            int r1 = java.lang.Math.min(r8, r0)
            int r7 = r7 + r1
            com.whatsapp.webpagepreview.WebPagePreviewView r0 = r9.A0n
            r0.A0J(r6, r1)
            android.view.ViewGroup r0 = r9.A06
            android.view.ViewGroup$LayoutParams r1 = r0.getLayoutParams()
            r1.width = r6
            r1.height = r7
            android.view.ViewGroup r0 = r9.A06
            r0.setLayoutParams(r1)
            r0 = 1
            android.graphics.Bitmap r1 = android.graphics.Bitmap.createScaledBitmap(r4, r6, r5, r0)     // Catch:{ OutOfMemoryError -> 0x00e7 }
            com.whatsapp.webpagepreview.WebPagePreviewView r0 = r9.A0n     // Catch:{ OutOfMemoryError -> 0x00e7 }
            r0.setImageLargeThumbWithBitmap(r1)     // Catch:{ OutOfMemoryError -> 0x00e7 }
            goto L_0x00ec
        L_0x00e7:
            com.whatsapp.webpagepreview.WebPagePreviewView r0 = r9.A0n
            r0.setImageLargeThumbWithBitmap(r4)
        L_0x00ec:
            android.content.res.Resources r1 = r9.getResources()
            r0 = 2131103013(0x7f060d25, float:1.781848E38)
            int r0 = r1.getColor(r0)
            r3.setColorFilter(r0)
            r0 = 2131233761(0x7f080be1, float:1.8083669E38)
            r3.setBackgroundResource(r0)
            android.content.res.Resources r1 = r9.getResources()
            r0 = 2131168457(0x7f070cc9, float:1.7951216E38)
            int r1 = r1.getDimensionPixelSize(r0)
            r0 = 0
            r2.setMargins(r0, r1, r1, r0)
            r3.setLayoutParams(r2)
            android.view.ViewGroup r0 = r9.A06
            r0.requestLayout()
            return
        L_0x0118:
            com.whatsapp.webpagepreview.WebPagePreviewView r1 = r9.A0n
            r0 = 2131428555(0x7f0b04cb, float:1.8478758E38)
            android.widget.ImageView r6 = X.C36391kE.A0N(r1, r0)
            android.view.ViewGroup$MarginLayoutParams r5 = X.AnonymousClass000.A0a(r6)
            android.util.TypedValue r2 = new android.util.TypedValue
            r2.<init>()
            android.content.res.Resources$Theme r1 = r9.getTheme()
            r0 = 16843868(0x101045c, float:2.3696686E-38)
            r4 = 1
            r1.resolveAttribute(r0, r2, r4)
            r6.clearColorFilter()
            int r0 = r2.resourceId
            r6.setBackgroundResource(r0)
            r3 = 0
            r5.setMargins(r3, r3, r3, r3)
            com.whatsapp.webpagepreview.WebPagePreviewView r0 = r9.A0n
            r0.A0G()
            X.6tS r2 = r9.A0I
            if (r2 == 0) goto L_0x014f
            byte[] r0 = r2.A0Q
            r1 = 1
            if (r0 != 0) goto L_0x0152
        L_0x014f:
            r1 = 0
            if (r2 == 0) goto L_0x0168
        L_0x0152:
            X.36r r0 = r2.A05
            if (r0 == 0) goto L_0x0168
            int r0 = r0.A00
            if (r0 <= 0) goto L_0x0168
        L_0x015a:
            com.whatsapp.webpagepreview.WebPagePreviewView r0 = r9.A0n
            r0.A0O(r4, r3)
            r6.setLayoutParams(r5)
            android.view.ViewGroup r0 = r9.A06
            X.AnonymousClass3UN.A08(r9, r0)
            return
        L_0x0168:
            com.whatsapp.webpagepreview.WebPagePreviewView r0 = r9.A0n
            com.whatsapp.components.button.ThumbnailButton r0 = r0.A0I
            X.C36411kG.A1D(r0)
            r4 = r1
            goto L_0x015a
        L_0x0171:
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.textstatuscomposer.TextStatusComposerActivity.A0l(com.whatsapp.textstatuscomposer.TextStatusComposerActivity, int):void");
    }

    public static void A0m(TextStatusComposerActivity textStatusComposerActivity, boolean z) {
        int i;
        C148856zX r0;
        if (textStatusComposerActivity.A0f.getText() == null || C36381kD.A06(textStatusComposerActivity.A0f) <= 0) {
            C148836zV r1 = textStatusComposerActivity.A0j;
            if (r1 == null || textStatusComposerActivity.A0i == null || r1.A08 == null) {
                super.onBackPressed();
                return;
            }
            i = 2;
        } else {
            i = 1;
        }
        Bundle A072 = AnonymousClass001.A07();
        A072.putInt("content", i);
        A072.putBoolean("back_button_pressed", z);
        C36381kD.A17(A072, new DiscardWarningDialogFragment(), textStatusComposerActivity);
        C148836zV r12 = textStatusComposerActivity.A0j;
        if (r12 != null && textStatusComposerActivity.A0i != null && (r0 = r12.A07) != null) {
            C148856zX.A00(r0);
        }
    }

    private void A0o(boolean z) {
        List singletonList;
        AnonymousClass3OM r1 = new AnonymousClass3OM(this);
        Boolean A0m2 = C36371kC.A0m();
        r1.A0G = A0m2;
        r1.A0L = A0m2;
        C146646vw r0 = this.A0g;
        if (r0 != null) {
            singletonList = Collections.unmodifiableList(r0.A0A);
            AnonymousClass00C.A08(singletonList);
        } else {
            singletonList = Collections.singletonList(C177528dw.A00);
        }
        r1.A0c = singletonList;
        AnonymousClass3OM.A03(r1, 0);
        r1.A0M = Boolean.valueOf(z);
        Intent A002 = AnonymousClass3OM.A00(r1);
        C64883Pu r12 = this.A0b;
        AnonymousClass3XT r02 = (AnonymousClass3XT) this.A12.A04();
        Objects.requireNonNull(r02);
        r12.A02(A002, r02);
        startActivityForResult(A002, 2);
    }

    private boolean A0p() {
        VoiceRecordingView voiceRecordingView = this.A0i;
        if (voiceRecordingView == null || this.A0j == null || !this.A0z || voiceRecordingView.getVisibility() == 4 || this.A0i.getVisibility() == 8) {
            return true;
        }
        return false;
    }

    public void A2F() {
        if (!this.A0y) {
            this.A0y = true;
            C27111My A0L2 = C36351kA.A0L(this);
            C18800tq r2 = A0L2.A5g;
            C36321k7.A0c(r2, this);
            C18830tt r3 = r2.A00;
            C36321k7.A0X(r2, r3, this, C36321k7.A05(r2, r3, this));
            this.A0P = (C125375zo) A0L2.A06.get();
            this.A0V = C36391kE.A0j(r2);
            this.A0R = C36351kA.A0g(r2);
            this.A0M = C36391kE.A0e(r2);
            this.A0H = C36361kB.A0T(r2);
            this.A0J = C36431kI.A0Y(r2);
            this.A0N = C36351kA.A0d(r2);
            this.A0c = C36431kI.A0v(r2);
            this.A0q = C36391kE.A0p(r2);
            this.A0l = C36371kC.A0l(r2);
            this.A0W = (AnonymousClass1D0) r2.A4l.get();
            this.A0o = (AnonymousClass1UM) r2.A3S.get();
            this.A0m = (C34911hq) r3.A6X.get();
            this.A0T = (AnonymousClass3L7) r3.ABI.get();
            this.A0e = C36381kD.A0i(r2);
            this.A0L = (AnonymousClass3HG) r3.A6g.get();
            this.A0d = C18800tq.AKs(r2);
            this.A0b = C36381kD.A0h(r3);
            this.A0Z = C36351kA.A0m(r2);
            this.A0S = C27111My.A2F(A0L2);
            this.A0C = (AnonymousClass3Bu) A0L2.A1S.get();
            this.A0a = (C1264664c) r2.AG5.get();
            AnonymousClass1XN A0d2 = C36351kA.A0d(r2);
            EmojiSearchProvider A0f2 = C36351kA.A0f(r2.A00);
            this.A0Q = new C44152Mc((C19420v0) r2.A9G.get(), A0d2, A0f2, (C125375zo) A0L2.A06.get(), (C20810yC) r2.A02.get(), (AnonymousClass1N2) r2.A43.get());
            this.A0B = (C57082xf) A0L2.A3Y.get();
            this.A0D = (C57902z0) A0L2.A1x.get();
            this.A0E = (C57912z1) A0L2.A1z.get();
            this.A0F = (C57932z3) A0L2.A22.get();
            this.A0p = (C35011i0) r3.A4Q.get();
            this.A0k = C36361kB.A0e(r2);
            this.A0X = C27111My.A2d(A0L2);
        }
    }

    public void A2X() {
        this.A0k.A03((AnonymousClass11F) null, 34);
        super.A2X();
        if (this.A0D.A0E(7905)) {
            this.A0a.A00();
        }
    }

    public /* synthetic */ void A3i(C145166tS r7) {
        if (r7 != null) {
            int A072 = C36341k9.A07(this.A00);
            this.A0K.A0T(r7);
            String str = r7.A0Z;
            if (str.equals(this.A0r) || !r7.A0I() || !TextUtils.equals(this.A0K.A06, str)) {
                this.A0I = null;
                A0J(this);
                return;
            }
            this.A0I = r7;
            Log.i("textstatus/showlinkpreview");
            if (this.A0n == null) {
                WebPagePreviewView webPagePreviewView = new WebPagePreviewView(this);
                this.A0n = webPagePreviewView;
                webPagePreviewView.setForeground((Drawable) null);
                this.A0n.setImageContentBackgroundResource(0);
                this.A06.addView(this.A0n);
                AnonymousClass1JZ.A05(this.A0n.findViewById(R.id.title), this.A00, 0, getResources().getDimensionPixelSize(R.dimen.f7nameremoved));
                this.A0n.setImageProgressBarVisibility(false);
                View findViewById = this.A0n.findViewById(R.id.cancel);
                findViewById.setVisibility(0);
                C48772i1.A00(findViewById, this, 30);
                View findViewById2 = this.A0n.findViewById(R.id.thumb);
                C48902iF r2 = new C48902iF(this, findViewById2, 37);
                findViewById2.setOnClickListener(r2);
                this.A0n.findViewById(R.id.webPagePreviewImageLarge_thumb).setOnClickListener(r2);
            }
            this.A0n.A0M(r7, (List) null, false, this.A0l.A01());
            if (this.A0f.getText() != null) {
                this.A0n.A0F.addOnLayoutChangeListener(new C67223Yz(this, A072));
            }
            if (this.A06.getVisibility() != 0) {
                this.A06.setVisibility(0);
                this.A06.setAlpha(0.0f);
                C90104Zc.A00(this.A06.getViewTreeObserver(), this, 34);
            }
        }
    }

    public void BYa() {
        this.A04.Boy(C81183wb.A00(this, 21));
    }

    public void Be3(int i) {
        C001700s r1 = this.A12;
        AnonymousClass3XT r0 = (AnonymousClass3XT) r1.A04();
        Objects.requireNonNull(r0);
        int i2 = i;
        if (r0.A00 != i) {
            AnonymousClass3XT r02 = (AnonymousClass3XT) r1.A04();
            A0G(new AnonymousClass3XT(r02.A01, r02.A02, i2, r02.A03, r02.A04));
        }
        if (A0p()) {
            A0M(this);
        } else {
            A0Q(this);
        }
    }

    public void Be4(int i) {
        Intent A012 = AnonymousClass3OM.A01(new AnonymousClass3OM(this), i);
        this.A0b.A02(A012, (AnonymousClass3XT) this.A12.A04());
        startActivityForResult(A012, 3);
    }

    public void BhR(AnonymousClass3XT r2) {
        if (this.A12.A04() != r2) {
            A0G(r2);
            A07();
        }
    }

    public void BhT(AnonymousClass3XT r2) {
        if (this.A12.A04() != r2) {
            A0G(r2);
        }
        if (A0p()) {
            A0M(this);
        } else {
            A0Q(this);
        }
    }

    public boolean dispatchTouchEvent(MotionEvent motionEvent) {
        AnonymousClass2MC r0 = this.A0x;
        if (r0 != null && r0.A02()) {
            ViewGroup viewGroup = this.A05;
            int[] iArr = this.A18;
            viewGroup.getLocationOnScreen(iArr);
            if (motionEvent.getRawY() >= ((float) iArr[1])) {
                if (motionEvent.getRawY() < ((float) C36431kI.A04(this.A05, iArr[1]))) {
                    if (motionEvent.getAction() == 0) {
                        this.A11 = true;
                    } else if (motionEvent.getAction() == 1 && this.A11) {
                        this.A0x.A01(true);
                        this.A11 = false;
                        return false;
                    }
                }
            }
        }
        return super.dispatchTouchEvent(motionEvent);
    }

    public void onCreate(Bundle bundle) {
        C160657lN A002;
        boolean z;
        getWindow().setFlags(67108864, 67108864);
        Bundle bundle2 = bundle;
        super.onCreate(bundle2);
        C39471sS r1 = (C39471sS) new AnonymousClass04H(new AnonymousClass4ZD(this.A15, this.A0B, this, 2), this).A00(C39471sS.class);
        this.A0K = r1;
        C65963Ud.A00(this, r1.A0C, 33);
        C65963Ud.A00(this, this.A0K.A0F, 34);
        C65963Ud.A00(this, this.A0K.A0E, 32);
        C001700s r15 = this.A00;
        C65963Ud.A00(this, r15, 35);
        this.A0z = C20800yB.A01(C21000yV.A01, this.A0D, 1874);
        setContentView((int) R.layout.f9nameremoved);
        VoiceRecordingView voiceRecordingView = (VoiceRecordingView) findViewById(R.id.voice_recording_view);
        this.A0i = voiceRecordingView;
        if (voiceRecordingView != null) {
            C57932z3 r3 = this.A0F;
            C21060yb A0U2 = C36351kA.A0U(r3.A00.A01);
            C27121Mz r12 = r3.A00;
            C18800tq r7 = r12.A01;
            C20810yC A0V2 = C36341k9.A0V(r7);
            C27111My r32 = r12.A00;
            C19770wU A0Z2 = C36341k9.A0Z(r7);
            C148836zV r16 = new C148836zV((C61463Bz) r32.A20.get(), (C115355ik) r32.A21.get(), this, A0U2, A0V2, C36381kD.A0i(r7), voiceRecordingView, (AnonymousClass3QH) r7.A00.A0H.get(), A0Z2);
            this.A0j = r16;
            r16.A05 = this;
        }
        this.A03 = AnonymousClass000.A0X(this);
        this.A0v = getResources().getDimensionPixelSize(R.dimen.f7nameremoved);
        this.A0u = getResources().getDimensionPixelSize(R.dimen.f7nameremoved);
        this.A0t = getResources().getDimensionPixelSize(R.dimen.f7nameremoved);
        if (bundle == null) {
            A0L(this);
        } else {
            this.A01 = bundle2.getInt("background_color");
            C36371kC.A1G(getWindow(), this.A01);
            VoiceRecordingView voiceRecordingView2 = this.A0i;
            if (voiceRecordingView2 != null) {
                voiceRecordingView2.setBackgroundTint(C018107s.A03(0.2f, this.A01, -16777216));
            }
        }
        ImageView A0Q2 = C36411kG.A0Q(this, R.id.color_picker_btn);
        C67103Yn.A00(A0Q2, this, 41);
        C89564Xa.A00(A0Q2, this, 12);
        TextView A0Q3 = C36391kE.A0Q(this, R.id.font_picker_btn);
        this.A09 = A0Q3;
        C67103Yn.A00(A0Q3, this, 42);
        C89564Xa.A00(this.A09, this, 13);
        C001700s r33 = this.A12;
        r33.A0D(getIntent().getParcelableExtra("status_distribution"));
        if (r33.A04() == null) {
            if (this.A0q.A00()) {
                z = Boolean.TRUE.equals(this.A0o.A01(AnonymousClass1US.TEXT_STATUS_COMPOSER_ACTIVITY));
            } else {
                z = false;
            }
            r33.A0D(new AnonymousClass3XT(this.A0M.A0A(), this.A0M.A0B(), this.A0M.A05(), z, false));
        }
        CreationModeBottomBar creationModeBottomBar = (CreationModeBottomBar) C03570Gk.A0B(this, R.id.bottom_bar);
        if (this.A0c.A00()) {
            A002 = this.A0X.A01(C36441kJ.A0S(creationModeBottomBar, R.id.media_recipients_stub), C51292na.QUICK_SHARE);
        } else {
            A002 = this.A0X.A00((DefaultRecipientsView) C012005e.A02(creationModeBottomBar, R.id.media_recipients));
        }
        View A022 = C012005e.A02(creationModeBottomBar, R.id.media_recipients);
        C57912z1 r5 = this.A0E;
        C19970wo A0V3 = C36351kA.A0V(r5.A00.A01);
        C27121Mz r52 = r5.A00;
        C18800tq r4 = r52.A01;
        C20810yC A0V4 = C36341k9.A0V(r4);
        C146646vw r162 = new C146646vw(A022, r33, (C57922z2) r52.A00.A1y.get(), this, A0V3, C36351kA.A0W(r4), C36341k9.A0T(r4), A0V4, A002, (AnonymousClass3L2) r4.A00.A3V.get(), C36381kD.A0i(r4), creationModeBottomBar);
        this.A0g = r162;
        r162.A07 = this;
        r162.A0G.Bru(r162);
        this.A06 = C36421kH.A0E(this, R.id.web_page_preview_container);
        this.A0f = (StatusEditText) C03570Gk.A0B(this, R.id.entry);
        View findViewById = findViewById(R.id.web_page_cardview_container);
        View.OnClickListener onClickListener = this.A16;
        findViewById.setOnClickListener(onClickListener);
        findViewById(R.id.close_keyboard_container).setOnClickListener(onClickListener);
        ImageView A0Q4 = C36411kG.A0Q(this, R.id.back);
        C67103Yn.A00(A0Q4, this, 43);
        this.A08 = (ScrollView) findViewById(R.id.scroll_container);
        LayoutTransition layoutTransition = new LayoutTransition();
        layoutTransition.enableTransitionType(2);
        layoutTransition.enableTransitionType(3);
        this.A06.setLayoutTransition(layoutTransition);
        A0F();
        C57902z0 r42 = this.A0D;
        C177528dw r21 = C177528dw.A00;
        ViewGroup viewGroup = this.A06;
        StatusEditText statusEditText = this.A0f;
        C61643Cw r14 = this.A17;
        C39471sS r13 = this.A0K;
        ScrollView scrollView = this.A08;
        C146646vw r11 = this.A0g;
        AnonymousClass1DU A0j2 = C36391kE.A0j(r42.A00.A01);
        C18800tq r43 = r42.A00.A01;
        AnonymousClass1H2 A0e2 = C36351kA.A0e(r43);
        C21060yb A0U3 = C36351kA.A0U(r43);
        C18830tt r34 = r43.A00;
        C29561Xc AKs = C18800tq.AKs(r43);
        C29731Xt A0i2 = C36381kD.A0i(r43);
        C19890wg A0m2 = C36351kA.A0m(r43);
        ViewGroup viewGroup2 = viewGroup;
        ScrollView scrollView2 = scrollView;
        AnonymousClass3OJ r122 = new AnonymousClass3OJ(viewGroup2, scrollView2, r15, (C195119So) r34.A0y.get(), r13, A0U3, (AnonymousClass1N0) r34.A3P.get(), A0e2, r21, A0j2, (AnonymousClass1XS) r43.A3U.get(), A0m2, (AnonymousClass9R1) r34.A0z.get(), AKs, A0i2, statusEditText, r14, r11);
        this.A0h = r122;
        AnonymousClass2g6 r44 = new AnonymousClass2g6(r122);
        r122.A01 = r44;
        StatusEditText statusEditText2 = r122.A0L;
        statusEditText2.addTextChangedListener(r44);
        statusEditText2.setFilters(new InputFilter[]{new C66783Xh(r122)});
        if (this.A0d.A00()) {
            int intExtra = getIntent().getIntExtra("entry_point", 0);
            if (!(bundle == null && intExtra == 5)) {
                this.A0e.A09(Boolean.valueOf(AnonymousClass000.A1S(intExtra, 5)));
            }
            C29731Xt r35 = this.A0e;
            Integer valueOf = Integer.valueOf(intExtra);
            C29761Xw r72 = r35.A0A;
            if (r72.A04.A00()) {
                Integer A012 = C29761Xw.A01(valueOf);
                AnonymousClass2SV A003 = C29761Xw.A00(r72);
                A003.A03 = C36431kI.A14();
                A003.A02 = A012;
                A003.A01 = 2;
                C29771Xx r36 = r72.A05;
                r36.A01 = A012;
                r36.A00 = 2;
                r72.A02.Blw(A003);
            }
        }
        String stringExtra = getIntent().getStringExtra("android.intent.extra.TEXT");
        if (stringExtra == null || TextUtils.getTrimmedLength(stringExtra) == 0) {
            this.A10 = true;
        } else {
            this.A10 = false;
            String A032 = this.A0V.A03(stringExtra);
            StatusEditText statusEditText3 = this.A0f;
            if (!TextUtils.isEmpty(A032)) {
                stringExtra = AnonymousClass000.A0q(" ", AnonymousClass000.A0v(stringExtra));
            }
            statusEditText3.setText(stringExtra);
            this.A0f.addOnLayoutChangeListener(new AnonymousClass4XX((Object) this, 2));
        }
        this.A0f.requestFocus();
        this.A0f.setOnEditorActionListener(new C89384Wi(this, 9));
        C64483Od r53 = new C64483Od();
        this.A0f.A0D = new AnonymousClass4XH(r53, this, 2);
        this.A05 = C36421kH.A0E(this, R.id.controls);
        A01();
        this.A07 = (ImageButton) C03570Gk.A0B(this, R.id.emoji_picker_btn);
        if (this.A0c.A00.A0E(7597)) {
            C91184bb r73 = new C91184bb(this, R.drawable.ic_cam_close);
            this.A0Y = new C91184bb(this, R.drawable.ib_emoji);
            C91184bb r6 = new C91184bb(this, R.drawable.ic_color);
            int A004 = AnonymousClass00F.A00(this, R.color.f6nameremoved);
            r73.A01(A004, 1.0f);
            this.A0Y.A01(A004, 1.0f);
            r6.A01(A004, 1.0f);
            C91184bb r45 = this.A0Y;
            r45.A03 = null;
            r45.invalidateSelf();
            A0Q2.setImageDrawable(r6);
            A0Q4.setImageDrawable(r73);
            this.A09.setBackground(this.A0Y);
            this.A07.setBackground(this.A0Y);
        }
        if (C36401kF.A1V(this)) {
            this.A0A = (CoordinatorLayout) C03570Gk.A0B(this, R.id.coordinator);
            this.A0G = (KeyboardPopupLayout) C03570Gk.A0B(this, R.id.main);
            this.A0O = (EmojiSearchKeyboardContainer) C03570Gk.A0B(this, R.id.expressions_emoji_search_container);
            C39281rd r46 = new C39281rd(this.A0A, 0, false);
            this.A0U = r46;
            C07460Xt.A01(this.A0A, r46);
            C44152Mc r112 = this.A0Q;
            CoordinatorLayout coordinatorLayout = this.A0A;
            ImageButton imageButton = this.A07;
            StatusEditText statusEditText4 = this.A0f;
            KeyboardPopupLayout keyboardPopupLayout = this.A0G;
            EmojiSearchKeyboardContainer emojiSearchKeyboardContainer = this.A0O;
            CoordinatorLayout coordinatorLayout2 = coordinatorLayout;
            ImageButton imageButton2 = imageButton;
            r112.A0D(this, this, coordinatorLayout2, imageButton2, coordinatorLayout, keyboardPopupLayout, statusEditText4, emojiSearchKeyboardContainer, this.A0U, this.A0c.A00.A0E(7597));
            this.A0Q.A0C((int) (((double) C36411kG.A00()) * 0.3d));
            this.A0Q.A0E(this.A13);
            C44152Mc r47 = this.A0Q;
            C55042ty r37 = new C55042ty(this, 2);
            ExpressionsBottomSheetView expressionsBottomSheetView = r47.A0E;
            if (expressionsBottomSheetView != null) {
                expressionsBottomSheetView.A0F = r37;
            }
            r47.A0C = new C54532t6(this, 1);
            r47.A0D = new C74293lN(this);
            C67103Yn.A00(this.A07, this, 44);
            C67103Yn.A00(this.A0f, this, 45);
        } else {
            AnonymousClass3HH r38 = this.A0S;
            r38.A00 = this;
            r38.A01(this.A07, (KeyboardPopupLayout) findViewById(R.id.main), this.A0f, C36371kC.A0p(), C36371kC.A0o());
            AnonymousClass3HG.A00(this.A0L, r38);
            AnonymousClass2M8 A005 = r38.A00();
            this.A0w = A005;
            A005.A0H(this.A13);
            A005.setOnDismissListener(new C89944Ym(this, 4));
            AnonymousClass2MC r8 = new AnonymousClass2MC(this, (EmojiSearchContainer) findViewById(R.id.emoji_search_container), this.A0R, this.A0w, (GifSearchContainer) findViewById(R.id.gif_search_container), this.A0T);
            this.A0x = r8;
            AnonymousClass3J6.A00(r8, this, 10);
            r8.A00 = new AnonymousClass4ZK(this, 1);
        }
        this.A04 = findViewById(R.id.voice_status_tip);
        if (!C36441kJ.A1I(C36331k8.A06(this), "show_voice_status_tooltip") || !this.A0z) {
            View view = this.A04;
            if (view != null) {
                view.clearAnimation();
                this.A04.setVisibility(8);
            }
            this.A05.A0G(this.A14);
            return;
        }
        A0h(this);
        C36331k8.A18(this.A09, "show_voice_status_tooltip", false);
    }

    public boolean onKeyUp(int i, KeyEvent keyEvent) {
        ExpressionsBottomSheetView expressionsBottomSheetView;
        if (i == 82 || i == 4) {
            if (!C36401kF.A1V(this) || (expressionsBottomSheetView = this.A0Q.A0E) == null || expressionsBottomSheetView.getVisibility() != 0) {
                AnonymousClass2M8 r0 = this.A0w;
                if (r0 != null && r0.isShowing()) {
                    this.A0w.dismiss();
                    return false;
                }
            } else {
                this.A0Q.A08();
                return false;
            }
        }
        return super.onKeyUp(i, keyEvent);
    }

    public TextStatusComposerActivity(int i) {
        this.A0y = false;
        C89374Wh.A00(this, 13);
    }

    public static void A0O(TextStatusComposerActivity textStatusComposerActivity) {
        int intExtra = textStatusComposerActivity.getIntent().getIntExtra("entry_point", 0);
        if (textStatusComposerActivity.A0d.A00()) {
            textStatusComposerActivity.A0e.A0A(0, Integer.valueOf(intExtra), C29731Xt.A01(intExtra));
        }
    }

    public static void A0i(TextStatusComposerActivity textStatusComposerActivity) {
        C36371kC.A1G(textStatusComposerActivity.getWindow(), textStatusComposerActivity.A01);
        textStatusComposerActivity.A01();
        VoiceRecordingView voiceRecordingView = textStatusComposerActivity.A0i;
        if (voiceRecordingView != null) {
            voiceRecordingView.setBackgroundTint(C018107s.A03(0.2f, textStatusComposerActivity.A01, -16777216));
        }
    }

    /* JADX WARNING: Code restructure failed: missing block: B:10:0x003c, code lost:
        r1 = X.AnonymousClass190.A05(r4);
     */
    /* JADX WARNING: Code restructure failed: missing block: B:2:0x0017, code lost:
        if (r3 != false) goto L_0x0019;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:5:0x001d, code lost:
        if (r3 == false) goto L_0x001f;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:7:0x0023, code lost:
        if (r5.size() != 1) goto L_0x003c;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:8:0x0025, code lost:
        r1 = X.C36441kJ.A0j().A1Z(r4, (X.AnonymousClass11F) r5.get(0), 0);
        X.AnonymousClass3M9.A01(r1, "TextStatusComposerActivity:sendEntry");
     */
    /* JADX WARNING: Code restructure failed: missing block: B:9:0x0038, code lost:
        startActivity(r1);
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    private void A0n(java.util.List r5) {
        /*
            r4 = this;
            android.view.Window r1 = r4.getWindow()
            r0 = 3
            r1.setSoftInputMode(r0)
            A0I(r4)
            boolean r3 = X.AnonymousClass143.A0N(r5)
            int r0 = r5.size()
            r2 = 0
            r1 = 1
            if (r0 != r1) goto L_0x001d
            if (r3 == 0) goto L_0x001f
        L_0x0019:
            r4.finish()
            return
        L_0x001d:
            if (r3 != 0) goto L_0x003c
        L_0x001f:
            int r0 = r5.size()
            if (r0 != r1) goto L_0x003c
            X.190 r1 = X.C36441kJ.A0j()
            java.lang.Object r0 = r5.get(r2)
            X.11F r0 = (X.AnonymousClass11F) r0
            android.content.Intent r1 = r1.A1Z(r4, r0, r2)
            java.lang.String r0 = "TextStatusComposerActivity:sendEntry"
            X.AnonymousClass3M9.A01(r1, r0)
        L_0x0038:
            r4.startActivity(r1)
            goto L_0x0019
        L_0x003c:
            android.content.Intent r1 = X.AnonymousClass190.A05(r4)
            goto L_0x0038
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.textstatuscomposer.TextStatusComposerActivity.A0n(java.util.List):void");
    }

    private boolean A0q(List list) {
        if (list.size() == 0) {
            A0o(false);
            return true;
        } else if (this.A0M.A0H() && !this.A0M.A0G()) {
            return false;
        } else {
            Btm(new FirstStatusConfirmationDialogFragment());
            return true;
        }
    }

    public void BhY(AnonymousClass3XT r2) {
        A0G(r2);
        boolean z = this.A0s;
        A07();
        if (!z) {
            A0O(this);
            if (A0p()) {
                A0M(this);
            } else {
                A0Q(this);
            }
        }
        this.A0s = false;
    }

    public void BhZ() {
        A0O(this);
        if (A0p()) {
            A0M(this);
        } else {
            A0Q(this);
        }
    }

    public void onActivityResult(int i, int i2, Intent intent) {
        super.onActivityResult(i, i2, intent);
        if (i != 1) {
            if (i == 2) {
                C18740tg.A06(intent);
                AnonymousClass3XT A012 = this.A0b.A01(intent.getExtras());
                C001700s r0 = this.A12;
                C18740tg.A06(A012);
                r0.A0D(A012);
                C146646vw r02 = this.A0g;
                if (r02 != null) {
                    r02.A01(intent);
                }
                if (i2 == -1) {
                    A0O(this);
                    if (A0p()) {
                        A0M(this);
                    } else {
                        A0Q(this);
                    }
                }
            } else if (i == 3 && i2 == -1) {
                C18740tg.A06(intent);
                AnonymousClass3XT A013 = this.A0b.A01(intent.getExtras());
                C18740tg.A06(A013);
                A0G(A013);
                A07();
            }
        } else if (i2 == -1) {
            finish();
        }
    }

    public void onBackPressed() {
        ExpressionsBottomSheetView expressionsBottomSheetView;
        if (!C36401kF.A1V(this) || (expressionsBottomSheetView = this.A0Q.A0E) == null || expressionsBottomSheetView.getVisibility() != 0) {
            AnonymousClass2MC r0 = this.A0x;
            if (r0 == null || !r0.A03()) {
                A0m(this, true);
                return;
            }
            return;
        }
        this.A0Q.A08();
    }

    public void onConfigurationChanged(Configuration configuration) {
        ViewTreeObserver viewTreeObserver;
        super.onConfigurationChanged(configuration);
        this.A03 = AnonymousClass000.A0X(this);
        A0F();
        Number A0z2 = C36441kJ.A0z(this.A00);
        if (!(this.A0f.getText() == null || A0z2 == null)) {
            A0l(this, A0z2.intValue());
        }
        if (C36401kF.A1V(this)) {
            this.A0Q.A00 = (int) (((double) C36411kG.A00()) * 0.3d);
            C44152Mc r4 = this.A0Q;
            CoordinatorLayout coordinatorLayout = r4.A05;
            if (coordinatorLayout != null && (viewTreeObserver = coordinatorLayout.getViewTreeObserver()) != null) {
                viewTreeObserver.addOnGlobalLayoutListener(new C90144Zg(3, r4, true));
            }
        }
    }

    public void onDestroy() {
        super.onDestroy();
        AnonymousClass2M8 r0 = this.A0w;
        if (r0 != null) {
            r0.A0K();
        }
        EmojiSearchKeyboardContainer emojiSearchKeyboardContainer = this.A0O;
        if (emojiSearchKeyboardContainer != null) {
            emojiSearchKeyboardContainer.setOnTouchListener((View.OnTouchListener) null);
            emojiSearchKeyboardContainer.A0B = null;
        }
        if (C36401kF.A1V(this)) {
            this.A0Q.A09();
        }
        this.A0U = null;
        AnonymousClass3OJ r2 = this.A0h;
        StatusEditText statusEditText = r2.A0L;
        statusEditText.removeTextChangedListener(r2.A01);
        statusEditText.setFilters(new InputFilter[0]);
        r2.A01 = null;
        this.A05.A0G(this.A14);
    }

    public boolean onKeyDown(int i, KeyEvent keyEvent) {
        if (!keyEvent.isPrintingKey() || !this.A0f.isShown() || this.A0f.hasFocus()) {
            return super.onKeyDown(i, keyEvent);
        }
        this.A0f.requestFocus();
        dispatchKeyEvent(keyEvent);
        return true;
    }

    public void onSaveInstanceState(Bundle bundle) {
        super.onSaveInstanceState(bundle);
        bundle.putInt("background_color", this.A01);
    }

    public void onStart() {
        super.onStart();
        if ((!this.A0z || C36341k9.A04(this) != 2) && this.A10) {
            int i = 2;
            if (C36401kF.A1V(this)) {
                Window window = getWindow();
                ExpressionsBottomSheetView expressionsBottomSheetView = this.A0Q.A0E;
                if (expressionsBottomSheetView == null || expressionsBottomSheetView.getVisibility() != 0) {
                    i = 4;
                }
                window.setSoftInputMode(i | 1);
                ExpressionsBottomSheetView expressionsBottomSheetView2 = this.A0Q.A0E;
                if (expressionsBottomSheetView2 != null && expressionsBottomSheetView2.getVisibility() == 0) {
                    return;
                }
            } else if (this.A0w != null) {
                Window window2 = getWindow();
                if (!this.A0w.isShowing()) {
                    i = 4;
                }
                window2.setSoftInputMode(i | 1);
                if (this.A0w.isShowing()) {
                    return;
                }
            } else {
                return;
            }
            this.A0f.A0C(true);
        }
    }

    public TextStatusComposerActivity() {
        this(0);
        this.A15 = C36341k9.A0H();
        this.A14 = C81183wb.A00(this, 20);
        this.A01 = AnonymousClass3UN.A00();
        this.A02 = 0;
        this.A12 = C36431kI.A0S();
        this.A00 = C36441kJ.A0Z(0);
        this.A0U = null;
        this.A13 = new C89604Xe(this, 14);
        this.A17 = new C61643Cw(this);
        this.A16 = new C67103Yn((Object) this, 40);
        this.A18 = C36441kJ.A1O();
    }
}
