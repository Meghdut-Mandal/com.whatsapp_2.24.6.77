package com.whatsapp.mediacomposer;

import X.AnonymousClass000;
import X.AnonymousClass001;
import X.AnonymousClass005;
import X.AnonymousClass00C;
import X.AnonymousClass02E;
import X.AnonymousClass11F;
import X.AnonymousClass143;
import X.AnonymousClass147;
import X.AnonymousClass155;
import X.AnonymousClass16D;
import X.AnonymousClass16E;
import X.AnonymousClass16L;
import X.AnonymousClass171;
import X.AnonymousClass17Y;
import X.AnonymousClass17Z;
import X.AnonymousClass185;
import X.AnonymousClass190;
import X.AnonymousClass19A;
import X.AnonymousClass1A1;
import X.AnonymousClass1A6;
import X.AnonymousClass1D0;
import X.AnonymousClass1D1;
import X.AnonymousClass1D5;
import X.AnonymousClass1DX;
import X.AnonymousClass1E2;
import X.AnonymousClass1EU;
import X.AnonymousClass1EV;
import X.AnonymousClass1GJ;
import X.AnonymousClass1GW;
import X.AnonymousClass1GX;
import X.AnonymousClass1HA;
import X.AnonymousClass1MP;
import X.AnonymousClass1N4;
import X.AnonymousClass1N6;
import X.AnonymousClass1NC;
import X.AnonymousClass1QW;
import X.AnonymousClass1UM;
import X.AnonymousClass1X4;
import X.AnonymousClass1X7;
import X.AnonymousClass1XN;
import X.AnonymousClass1XS;
import X.AnonymousClass1XY;
import X.AnonymousClass1YL;
import X.AnonymousClass2RC;
import X.AnonymousClass3Bu;
import X.AnonymousClass3FQ;
import X.AnonymousClass3G2;
import X.AnonymousClass3K8;
import X.AnonymousClass3M9;
import X.AnonymousClass3OM;
import X.AnonymousClass3R6;
import X.AnonymousClass3T1;
import X.AnonymousClass3U9;
import X.AnonymousClass3XT;
import X.AnonymousClass4RW;
import X.AnonymousClass4UW;
import X.AnonymousClass60O;
import X.AnonymousClass653;
import X.AnonymousClass6BV;
import X.AnonymousClass6BW;
import X.AnonymousClass6FV;
import X.AnonymousClass6H8;
import X.AnonymousClass6O1;
import X.AnonymousClass6OT;
import X.AnonymousClass6QO;
import X.AnonymousClass6VQ;
import X.AnonymousClass6VT;
import X.AnonymousClass6vC;
import X.AnonymousClass73D;
import X.C001600r;
import X.C001700s;
import X.C007103b;
import X.C1031053t;
import X.C1032954s;
import X.C1042358u;
import X.C111065bg;
import X.C111075bh;
import X.C117365m9;
import X.C117415mE;
import X.C117485mL;
import X.C124985z8;
import X.C1261362r;
import X.C1270866x;
import X.C1273567y;
import X.C129126Fh;
import X.C132106Se;
import X.C132366Tg;
import X.C145146tQ;
import X.C145706uO;
import X.C146636vv;
import X.C146806wC;
import X.C148296yd;
import X.C1503074t;
import X.C157367cq;
import X.C157387cs;
import X.C158427gu;
import X.C160137kW;
import X.C160657lN;
import X.C160827le;
import X.C161947nj;
import X.C163027pX;
import X.C165307tD;
import X.C177528dw;
import X.C18740tg;
import X.C18800tq;
import X.C18820ts;
import X.C18830tt;
import X.C18840tu;
import X.C18950u5;
import X.C1901797e;
import X.C19420v0;
import X.C19430v1;
import X.C19630wG;
import X.C19770wU;
import X.C19890wg;
import X.C19970wo;
import X.C20310xM;
import X.C20800yB;
import X.C20810yC;
import X.C20830yE;
import X.C21000yV;
import X.C21010yW;
import X.C21060yb;
import X.C21159AAt;
import X.C21710zg;
import X.C220412q;
import X.C235618y;
import X.C25491Gn;
import X.C25501Go;
import X.C25851Hx;
import X.C26861Lu;
import X.C27111My;
import X.C27261Nn;
import X.C28331Sf;
import X.C28371Sj;
import X.C28781Ua;
import X.C29151Vn;
import X.C29731Xt;
import X.C32691e2;
import X.C35691j6;
import X.C36321k7;
import X.C36331k8;
import X.C36341k9;
import X.C36351kA;
import X.C36361kB;
import X.C36371kC;
import X.C36381kD;
import X.C36391kE;
import X.C36401kF;
import X.C36411kG;
import X.C36421kH;
import X.C36431kI;
import X.C36441kJ;
import X.C50232kQ;
import X.C51512nw;
import X.C55162uB;
import X.C55412ua;
import X.C603437m;
import X.C64783Pk;
import X.C64883Pu;
import X.C64953Qc;
import X.C65083Qq;
import X.C65533Sl;
import X.C81283wl;
import X.C88154Rp;
import X.C88184Rs;
import X.C90464aC;
import X.C90474aD;
import X.C90494aF;
import X.C90504aG;
import X.C90714ab;
import X.C96024mf;
import android.content.Intent;
import android.content.res.Configuration;
import android.graphics.Bitmap;
import android.graphics.Point;
import android.graphics.PointF;
import android.graphics.Rect;
import android.graphics.RectF;
import android.net.Uri;
import android.os.Bundle;
import android.os.Handler;
import android.os.SystemClock;
import android.util.Pair;
import android.view.KeyEvent;
import android.view.MenuItem;
import android.view.View;
import android.view.ViewGroup;
import android.widget.FrameLayout;
import android.widget.Toast;
import androidx.coordinatorlayout.widget.CoordinatorLayout;
import com.whatsapp.R;
import com.whatsapp.bridge.wfal.WfalManager;
import com.whatsapp.emoji.search.EmojiSearchProvider;
import com.whatsapp.gallerypicker.PhotoViewPager;
import com.whatsapp.mediacomposer.bottombar.BottomBarView;
import com.whatsapp.mediacomposer.bottombar.caption.CaptionView;
import com.whatsapp.mediacomposer.doodle.titlebar.TitleBarView;
import com.whatsapp.mediaview.PhotoView;
import com.whatsapp.status.audienceselector.sharesheet.StatusAudienceSelectorShareSheetFragment;
import com.whatsapp.util.Log;
import java.io.File;
import java.util.ArrayList;
import java.util.Collection;
import java.util.Collections;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Iterator;
import java.util.List;
import java.util.Map;
import java.util.Objects;
import java.util.Set;
import org.json.JSONException;

public class MediaComposerActivity extends AnonymousClass155 implements C160827le, C160137kW, AnonymousClass4UW, C158427gu, C88184Rs, C161947nj, C88154Rp, C157367cq, C157387cs {
    public int A00;
    public Bitmap A01;
    public View A02;
    public View A03;
    public FrameLayout A04;
    public Toast A05;
    public CoordinatorLayout A06;
    public C001600r A07;
    public AnonymousClass1NC A08;
    public AnonymousClass1N4 A09;
    public AnonymousClass60O A0A;
    public AnonymousClass3Bu A0B;
    public C26861Lu A0C;
    public C32691e2 A0D;
    public AnonymousClass1XY A0E;
    public AnonymousClass1X4 A0F;
    public WfalManager A0G;
    public C603437m A0H;
    public AnonymousClass16L A0I;
    public AnonymousClass16D A0J;
    public C27261Nn A0K;
    public AnonymousClass185 A0L;
    public AnonymousClass171 A0M;
    public C235618y A0N;
    public C21159AAt A0O;
    public C64953Qc A0P;
    public AnonymousClass1A6 A0Q;
    public AnonymousClass1MP A0R;
    public C19630wG A0S;
    public AnonymousClass17Z A0T;
    public C20830yE A0U;
    public C18820ts A0V;
    public C25851Hx A0W;
    public AnonymousClass1DX A0X;
    public C220412q A0Y;
    public C20310xM A0Z;
    public AnonymousClass16E A0a;
    public C1032954s A0b;
    public C1261362r A0c;
    public AnonymousClass6O1 A0d;
    public AnonymousClass1XN A0e;
    public EmojiSearchProvider A0f;
    public C21010yW A0g;
    public AnonymousClass3K8 A0h;
    public PhotoViewPager A0i;
    public C117365m9 A0j;
    public C145146tQ A0k;
    public AnonymousClass1D5 A0l;
    public C25491Gn A0m;
    public AnonymousClass1D0 A0n;
    public C25501Go A0o;
    public AnonymousClass1D1 A0p;
    public AnonymousClass1GJ A0q;
    public AnonymousClass1E2 A0r;
    public AnonymousClass6VT A0s;
    public C1031053t A0t;
    public C146636vv A0u;
    public C90714ab A0v;
    public C160657lN A0w;
    public AnonymousClass3G2 A0x;
    public C117415mE A0y;
    public AnonymousClass6vC A0z;
    public C129126Fh A10;
    public C117485mL A11;
    public AnonymousClass653 A12;
    public AnonymousClass1YL A13;
    public C28371Sj A14;
    public AnonymousClass1XS A15;
    public AnonymousClass19A A16;
    public AnonymousClass1QW A17;
    public AnonymousClass1EV A18;
    public AnonymousClass1EU A19;
    public C29151Vn A1A;
    public C19890wg A1B;
    public C50232kQ A1C;
    public C64783Pk A1D;
    public AnonymousClass3FQ A1E;
    public C64883Pu A1F;
    public C28331Sf A1G;
    public C29731Xt A1H;
    public C132106Se A1I;
    public AnonymousClass1HA A1J;
    public AnonymousClass1A1 A1K;
    public AnonymousClass1N6 A1L;
    public AnonymousClass1X7 A1M;
    public AnonymousClass1GX A1N;
    public C1270866x A1O;
    public AnonymousClass1UM A1P;
    public C28781Ua A1Q;
    public AnonymousClass005 A1R;
    public Integer A1S;
    public Runnable A1T;
    public Runnable A1U;
    public boolean A1V;
    public boolean A1W;
    public boolean A1X;
    public boolean A1Y;
    public boolean A1Z;
    public boolean A1a;
    public boolean A1b;
    public int A1c;
    public int A1d;
    public int A1e;
    public C124985z8 A1f;
    public Long A1g;
    public boolean A1h;
    public boolean A1i;
    public boolean A1j;
    public boolean A1k;
    public boolean A1l;
    public boolean A1m;
    public boolean A1n;
    public final PointF A1o;
    public final Rect A1p;
    public final Handler A1q;
    public final C132366Tg A1r;
    public final AnonymousClass4RW A1s;
    public final AnonymousClass005 A1t;
    public final Collection A1u;
    public final HashMap A1v;
    public final HashSet A1w;
    public final HashSet A1x;
    public final Handler A1y;
    public final Runnable A1z;

    private void A0Q(AnonymousClass3XT r15, boolean z) {
        List list;
        ArrayList A152;
        if (!C1901797e.A00(this.A0s.A05.A04(), r15)) {
            this.A0s.A05.A0D(r15);
            int i = r15.A00;
            if (i == 0) {
                A152 = null;
            } else {
                if (i == 1) {
                    list = r15.A01;
                } else {
                    list = r15.A02;
                }
                A152 = C36441kJ.A15(list);
            }
            int i2 = -1;
            if (z) {
                i2 = 0;
            }
            C36391kE.A1Q(this.A0B.A00(this, A152, i, i2, 0, false, false, false, false, false), this.A04);
        }
    }

    public static void A0p(MediaComposerActivity mediaComposerActivity, MediaComposerFragment mediaComposerFragment) {
        View A082;
        int intExtra;
        mediaComposerActivity.A1i = true;
        boolean z = false;
        if (C36401kF.A00(mediaComposerActivity.A0s.A04) == 1 && ((intExtra = mediaComposerActivity.getIntent().getIntExtra("origin", 1)) == 2 || intExtra == 7 || intExtra == 12 || intExtra == 15 || intExtra == 18 || intExtra == 35 || intExtra == 38)) {
            z = true;
        }
        if (z) {
            mediaComposerActivity.finish();
            mediaComposerActivity.overridePendingTransition(17432576, 17432577);
        } else if (mediaComposerActivity.getIntent().getIntExtra("origin", 1) == 29) {
            mediaComposerActivity.finish();
            mediaComposerActivity.overridePendingTransition(0, 17432577);
        } else if (mediaComposerActivity.A01 == null || mediaComposerFragment == null) {
            mediaComposerActivity.finish();
        } else {
            mediaComposerActivity.A03.setVisibility(0);
            if (mediaComposerFragment instanceof VideoComposerFragment) {
                VideoComposerFragment videoComposerFragment = (VideoComposerFragment) mediaComposerFragment;
                C65083Qq r0 = videoComposerFragment.A0L;
                if (r0 != null) {
                    r0.A0D();
                    r0.A08().setAlpha(0.0f);
                }
                C90494aF.A0v(videoComposerFragment.A0d(), R.id.content);
            } else {
                if (mediaComposerFragment instanceof ImageComposerFragment) {
                    A082 = ((ImageComposerFragment) mediaComposerFragment).A06;
                } else {
                    C65083Qq r02 = ((GifComposerFragment) mediaComposerFragment).A00;
                    if (r02 != null) {
                        r02.A0D();
                        A082 = r02.A08();
                    }
                }
                A082.setVisibility(4);
            }
            mediaComposerActivity.A1n();
        }
    }

    public int A2I() {
        return 78318969;
    }

    public boolean A2g() {
        return true;
    }

    public void BhR(AnonymousClass3XT r5) {
        A0Q(r5, true);
        this.A02.setVisibility(0);
        MediaComposerFragment A0F2 = A0F(this);
        if (A0F2 instanceof ImageComposerFragment) {
            ((ImageComposerFragment) A0F2).A1m(1.0f, true);
        } else if (A0F2 instanceof VideoComposerFragment) {
            VideoComposerFragment videoComposerFragment = (VideoComposerFragment) A0F2;
            C36361kB.A14(videoComposerFragment.A08);
            videoComposerFragment.A1m(1.0f, true);
        }
    }

    public void BhT(AnonymousClass3XT r2) {
        A0Q(r2, false);
        A3j();
    }

    public void BhY(AnonymousClass3XT r5) {
        A0Q(r5, true);
        boolean z = this.A1Y;
        ArrayList A0I2 = AnonymousClass001.A0I();
        A0I2.add(C177528dw.A00);
        this.A0s.A02.A0D(Collections.unmodifiableList(A0I2));
        if (!z) {
            A0j(this);
        }
        this.A1Y = false;
        A0o(this, C36341k9.A07(this.A0s.A03));
    }

    /* JADX WARNING: Removed duplicated region for block: B:29:0x00a6  */
    /* JADX WARNING: Removed duplicated region for block: B:51:0x0025 A[SYNTHETIC] */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public void onStop() {
        /*
            r13 = this;
            r8 = r13
            super.onStop()
            r0 = 0
            r13.A1V = r0
            X.653 r1 = r13.A12
            r1.A00 = r0
            boolean r0 = r13.A1b
            if (r0 != 0) goto L_0x0012
            r1.A00()
        L_0x0012:
            boolean r0 = r13.A1i
            if (r0 == 0) goto L_0x0130
            r13.A0H()
            java.util.HashMap r4 = X.AnonymousClass001.A0J()
            java.util.List r0 = X.AnonymousClass6VT.A03(r13)
            java.util.Iterator r6 = r0.iterator()
        L_0x0025:
            boolean r0 = r6.hasNext()
            r2 = 13
            r5 = 0
            if (r0 == 0) goto L_0x00b2
            java.lang.Object r1 = r6.next()
            android.net.Uri r1 = (android.net.Uri) r1
            X.6Tg r0 = r13.A1r
            X.6QO r3 = r0.A03(r1)
            X.1Gn r0 = r13.A0m
            int r1 = X.AnonymousClass6QO.A00(r3, r0)
            boolean r0 = r3.A0K()
            if (r0 != 0) goto L_0x0047
            r2 = r1
        L_0x0047:
            java.lang.Integer r0 = java.lang.Integer.valueOf(r2)
            java.lang.Object r1 = r4.get(r0)
            X.58u r1 = (X.C1042358u) r1
            if (r1 != 0) goto L_0x005a
            X.58u r1 = r13.A07(r2)
            r4.put(r0, r1)
        L_0x005a:
            java.lang.Long r0 = r1.A0E
            java.lang.Long r0 = X.C90494aF.A0W(r0)
            r1.A0E = r0
            java.io.File r0 = r3.A06()
            r2 = 1
            if (r0 == 0) goto L_0x0072
            java.lang.Long r0 = r1.A0D
            java.lang.Long r0 = X.C90494aF.A0W(r0)
            r1.A0D = r0
            r5 = 1
        L_0x0072:
            int r0 = r3.A02()
            if (r0 != 0) goto L_0x0079
            r2 = r5
        L_0x0079:
            java.lang.String r12 = r3.A0B()
            boolean r0 = android.text.TextUtils.isEmpty(r12)
            if (r0 != 0) goto L_0x00b0
            com.whatsapp.mediacomposer.MediaComposerFragment r0 = A0F(r13)
            if (r0 == 0) goto L_0x00b0
            X.C18740tg.A06(r12)
            X.1H2 r10 = r13.A0C
            X.0ts r9 = r13.A0V
            X.1HA r11 = r0.A0K
            X.6Nc r7 = X.AnonymousClass6VQ.A05
            X.6VQ r0 = r7.A02(r8, r9, r10, r11, r12)
            if (r0 == 0) goto L_0x00b0
            r0.A07(r1)
            java.util.List r0 = r0.A04
            boolean r0 = X.C36401kF.A1a(r0)
        L_0x00a3:
            r0 = r0 | r2
            if (r0 == 0) goto L_0x0025
            java.lang.Long r0 = r1.A0C
            java.lang.Long r0 = X.C90494aF.A0W(r0)
            r1.A0C = r0
            goto L_0x0025
        L_0x00b0:
            r0 = 0
            goto L_0x00a3
        L_0x00b2:
            java.util.HashSet r3 = r13.A1w
            java.util.Iterator r5 = r3.iterator()
        L_0x00b8:
            boolean r0 = r5.hasNext()
            if (r0 == 0) goto L_0x00ee
            java.lang.Object r1 = r5.next()
            X.6QO r1 = (X.AnonymousClass6QO) r1
            X.1Gn r0 = r13.A0m
            int r2 = X.AnonymousClass6QO.A00(r1, r0)
            boolean r0 = r1.A0K()
            if (r0 == 0) goto L_0x00d2
            r2 = 13
        L_0x00d2:
            java.lang.Integer r0 = java.lang.Integer.valueOf(r2)
            java.lang.Object r1 = r4.get(r0)
            X.58u r1 = (X.C1042358u) r1
            if (r1 != 0) goto L_0x00e5
            X.58u r1 = r13.A07(r2)
            r4.put(r0, r1)
        L_0x00e5:
            java.lang.Long r0 = r1.A0E
            java.lang.Long r0 = X.C90494aF.A0W(r0)
            r1.A0E = r0
            goto L_0x00b8
        L_0x00ee:
            java.util.Iterator r2 = X.C36391kE.A10(r4)
        L_0x00f2:
            boolean r0 = r2.hasNext()
            if (r0 == 0) goto L_0x0104
            java.lang.Object r1 = r2.next()
            X.0yK r1 = (X.C20890yK) r1
            X.0yW r0 = r13.A0g
            r0.Blw(r1)
            goto L_0x00f2
        L_0x0104:
            X.1GX r2 = r13.A1N
            java.util.Collection r1 = r13.A1u
            X.6Tg r0 = r13.A1r
            java.util.Map r0 = r0.A00
            java.util.ArrayList r0 = X.C90494aF.A0g(r0)
            X.AnonymousClass1GX.A0Y(r2, r1, r0)
            X.1GX r0 = r13.A1N
            X.AnonymousClass1GX.A0Y(r0, r1, r3)
            java.util.List r0 = X.AnonymousClass6VT.A03(r13)
            java.util.Iterator r1 = r0.iterator()
        L_0x0120:
            boolean r0 = r1.hasNext()
            if (r0 == 0) goto L_0x0130
            java.lang.Object r0 = r1.next()
            android.net.Uri r0 = (android.net.Uri) r0
            A0M(r0, r13)
            goto L_0x0120
        L_0x0130:
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.onStop():void");
    }

    private C1042358u A07(int i) {
        boolean contains = C36401kF.A0w(this.A0s.A02).contains(C177528dw.A00);
        int size = C36401kF.A0w(this.A0s.A02).size();
        int A092 = C90494aF.A09(this);
        long longExtra = getIntent().getLongExtra("picker_open_time", 0);
        long elapsedRealtime = SystemClock.elapsedRealtime();
        boolean z = this.A1Y;
        AnonymousClass6VT r1 = this.A0s;
        boolean z2 = !r1.A0D.equals(r1.A02.A04());
        long longExtra2 = getIntent().getLongExtra("gallery_duration_ms", -1);
        C20810yC r5 = this.A0D;
        C19420v0 r4 = this.A09;
        Integer num = this.A1S;
        Long l = this.A1g;
        Long A0y2 = C36441kJ.A0y(this.A0o.A02.size());
        C25501Go r12 = this.A0o;
        return C111065bg.A00(r4, r5, this.A0s.A00, num, l, A0y2, C36441kJ.A0y(C007103b.A0g(r12.A02, r12.A03).size()), i, size, A092, longExtra, elapsedRealtime, longExtra2, contains, false, z, z2);
    }

    public static MediaComposerFragment A0F(MediaComposerActivity mediaComposerActivity) {
        Uri A082 = mediaComposerActivity.A0s.A08();
        if (A082 != null) {
            for (AnonymousClass02E r1 : mediaComposerActivity.A2m()) {
                if (r1 instanceof MediaComposerFragment) {
                    MediaComposerFragment mediaComposerFragment = (MediaComposerFragment) r1;
                    if (A082.equals(mediaComposerFragment.A00)) {
                        return mediaComposerFragment;
                    }
                }
            }
        }
        return null;
    }

    /* JADX WARNING: Code restructure failed: missing block: B:41:0x00b9, code lost:
        if (r0 != 3) goto L_0x00bb;
     */
    /* JADX WARNING: Removed duplicated region for block: B:15:0x0034  */
    /* JADX WARNING: Removed duplicated region for block: B:48:0x0026 A[EDGE_INSN: B:48:0x0026->B:10:0x0026 ?: BREAK  , SYNTHETIC] */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    private void A0I() {
        /*
            r7 = this;
            boolean r0 = r7.A1b
            if (r0 != 0) goto L_0x0010
            com.whatsapp.mediacomposer.MediaComposerFragment r2 = A0F(r7)
            if (r2 == 0) goto L_0x0011
            boolean r0 = r2.A1k()
            if (r0 == 0) goto L_0x0011
        L_0x0010:
            return
        L_0x0011:
            X.5mE r4 = r7.A0y
            java.util.List r1 = X.AnonymousClass6VT.A03(r7)
            X.6Tg r6 = r7.A1r
            X.C36321k7.A0w(r1, r6)
            boolean r0 = r1 instanceof java.util.Collection
            if (r0 == 0) goto L_0x002a
            boolean r0 = r1.isEmpty()
            if (r0 == 0) goto L_0x002a
        L_0x0026:
            A0p(r7, r2)
            return
        L_0x002a:
            java.util.Iterator r3 = r1.iterator()
        L_0x002e:
            boolean r0 = r3.hasNext()
            if (r0 == 0) goto L_0x0026
            java.lang.Object r0 = r3.next()
            android.net.Uri r0 = (android.net.Uri) r0
            X.6QO r1 = r6.A03(r0)
            java.lang.String r0 = r1.A0A
            if (r0 != 0) goto L_0x005a
            java.lang.String r0 = r1.A0B
            if (r0 != 0) goto L_0x005a
            int r0 = r1.A01
            if (r0 != 0) goto L_0x005a
            java.io.File r0 = r1.A08
            if (r0 != 0) goto L_0x005a
            android.graphics.Rect r0 = r1.A05
            if (r0 != 0) goto L_0x005a
            boolean r0 = r1.A0E
            if (r0 != 0) goto L_0x005a
            int r0 = r1.A00
            if (r0 == 0) goto L_0x002e
        L_0x005a:
            X.0yC r1 = r4.A00
            r0 = 7719(0x1e27, float:1.0817E-41)
            boolean r0 = r1.A0E(r0)
            if (r0 == 0) goto L_0x0026
            java.util.List r5 = X.AnonymousClass6VT.A03(r7)
            r3 = 1
            X.7so r4 = new X.7so
            r4.<init>(r2, r7, r3)
            boolean r1 = X.C90514aH.A1Y(r5)
            r2 = 3
            int r0 = r5.size()
            if (r0 <= r3) goto L_0x009c
            r1 = 2131888861(0x7f120add, float:1.941237E38)
        L_0x007c:
            X.1qm r3 = X.AnonymousClass3LW.A00(r7)
            r3.A0c(r1)
            r1 = 2131896389(0x7f122845, float:1.9427638E38)
            X.6i7 r0 = X.C138446i7.A00
            r3.A0l(r7, r0, r1)
            r2 = 2131888860(0x7f120adc, float:1.9412367E38)
            r1 = 42
            X.7t0 r0 = new X.7t0
            r0.<init>(r4, r1)
            r3.A0m(r7, r0, r2)
            X.C36341k9.A11(r3)
            return
        L_0x009c:
            boolean r0 = X.C36401kF.A1a(r5)
            if (r0 == 0) goto L_0x00bb
            java.lang.Object r0 = r5.get(r1)
            android.net.Uri r0 = (android.net.Uri) r0
            X.6QO r0 = r6.A03(r0)
            java.lang.Integer r0 = r0.A09()
            if (r0 == 0) goto L_0x00bb
            int r0 = r0.intValue()
            r1 = 2131888863(0x7f120adf, float:1.9412373E38)
            if (r0 == r2) goto L_0x007c
        L_0x00bb:
            r1 = 2131888862(0x7f120ade, float:1.9412371E38)
            goto L_0x007c
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.A0I():void");
    }

    private void A0J() {
        ViewGroup.MarginLayoutParams A0a2 = AnonymousClass000.A0a(this.A04);
        boolean A1S2 = AnonymousClass000.A1S(C36341k9.A04(this), 2);
        int i = this.A00;
        if (i == -1 || A1S2) {
            i = 0;
        }
        int i2 = this.A1c;
        if (i2 == -1 || A1S2) {
            i2 = 0;
        }
        A0a2.setMargins(0, i, 0, i2);
    }

    /* JADX WARNING: Code restructure failed: missing block: B:3:0x000a, code lost:
        if (r0.intValue() != 3) goto L_0x000c;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    private void A0K() {
        /*
            r5 = this;
            java.lang.Integer r0 = r5.A1S
            r4 = 3
            if (r0 == 0) goto L_0x000c
            int r0 = r0.intValue()
            r3 = 1
            if (r0 == r4) goto L_0x000d
        L_0x000c:
            r3 = 0
        L_0x000d:
            X.6Tg r0 = r5.A1r
            java.util.Map r0 = r0.A00
            java.util.ArrayList r0 = X.C90494aF.A0g(r0)
            java.util.Iterator r2 = r0.iterator()
        L_0x0019:
            boolean r0 = r2.hasNext()
            if (r0 == 0) goto L_0x0039
            java.lang.Object r1 = r2.next()
            X.6QO r1 = (X.AnonymousClass6QO) r1
            X.1Gn r0 = r5.A0m
            int r0 = r0.A01(r1)
            if (r0 != r4) goto L_0x0019
            X.0wU r2 = r5.A04
            r1 = 40
            X.75B r0 = new X.75B
            r0.<init>((int) r1, (java.lang.Object) r5, (boolean) r3)
            r2.Boy(r0)
        L_0x0039:
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.A0K():void");
    }

    public static void A0L(Uri uri, MediaComposerActivity mediaComposerActivity) {
        AnonymousClass6VT r1 = mediaComposerActivity.A0s;
        r1.A0E.remove(uri);
        AnonymousClass6VT.A04(r1);
        mediaComposerActivity.A1x.remove(uri);
        Map map = mediaComposerActivity.A1r.A00;
        Object remove = map.remove(uri);
        if (remove != null) {
            mediaComposerActivity.A1w.add(remove);
            int size = C90494aF.A0g(map).size();
            int i = mediaComposerActivity.A1d;
            if (size >= i) {
                i = mediaComposerActivity.A0D.A07(2693);
                mediaComposerActivity.A1d = i;
            }
            boolean A1T2 = C90474aD.A1T(i, C90494aF.A0g(map).size());
            mediaComposerActivity.A1h = A1T2;
            mediaComposerActivity.A0u.A03.A03.setAddButtonActivated(A1T2);
        }
        mediaComposerActivity.A0t.A09();
        C146636vv.A00(mediaComposerActivity);
        boolean isEmpty = AnonymousClass6VT.A03(mediaComposerActivity).isEmpty();
        AnonymousClass6VT r0 = mediaComposerActivity.A0s;
        if (isEmpty) {
            if (r0.A0I) {
                Intent A0D2 = C36431kI.A0D();
                A0D2.putExtra("last_media_deleted", true);
                mediaComposerActivity.setResult(-1, A0D2);
            }
            mediaComposerActivity.finish();
            return;
        }
        if (C36341k9.A07(r0.A03) >= 0) {
            mediaComposerActivity.BW2();
            mediaComposerActivity.BXy(0.0f);
            mediaComposerActivity.A0i.setCurrentItem(C36341k9.A07(mediaComposerActivity.A0s.A03));
            A0o(mediaComposerActivity, C36341k9.A07(mediaComposerActivity.A0s.A03));
        }
        mediaComposerActivity.A0u.A06(mediaComposerActivity.A0s.A0C());
    }

    public static void A0M(Uri uri, MediaComposerActivity mediaComposerActivity) {
        if (uri != null) {
            mediaComposerActivity.A0I.A02().A0C(uri.toString());
            mediaComposerActivity.A0I.A02().A0C(AnonymousClass000.A0q("-thumb", C36381kD.A11(uri)));
            mediaComposerActivity.A0I.A02().A0C(AnonymousClass000.A0q("-filter", C36381kD.A11(uri)));
            mediaComposerActivity.A0I.A00().A0C(AnonymousClass000.A0q("-thumb", C36381kD.A11(uri)));
        }
    }

    public static void A0O(AnonymousClass3XT r3, MediaComposerActivity mediaComposerActivity, List list) {
        mediaComposerActivity.A0w.Brt(r3, list, true);
        C146636vv r32 = mediaComposerActivity.A0u;
        boolean A1a2 = C36401kF.A1a(C36401kF.A0w(mediaComposerActivity.A0s.A02));
        CaptionView captionView = r32.A03.A03;
        C18820ts r0 = captionView.A00;
        if (A1a2) {
            AnonymousClass6H8.A00(captionView, r0);
        } else {
            AnonymousClass6H8.A01(captionView, r0);
        }
        AnonymousClass6BW r1 = r32.A06;
        r32.A02.getAbProps();
        r1.A01(A1a2);
    }

    public static void A0i(MediaComposerActivity mediaComposerActivity) {
        StatusAudienceSelectorShareSheetFragment statusAudienceSelectorShareSheetFragment = new StatusAudienceSelectorShareSheetFragment(mediaComposerActivity);
        Bundle A072 = AnonymousClass001.A07();
        mediaComposerActivity.A1F.A03(A072, AnonymousClass6VT.A01(mediaComposerActivity));
        statusAudienceSelectorShareSheetFragment.A17(A072);
        mediaComposerActivity.Btm(statusAudienceSelectorShareSheetFragment);
        mediaComposerActivity.A02.setVisibility(8);
        MediaComposerFragment A0F2 = A0F(mediaComposerActivity);
        if (A0F2 instanceof VideoComposerFragment) {
            C36331k8.A0y(((VideoComposerFragment) A0F2).A08);
        }
    }

    /* JADX WARNING: Code restructure failed: missing block: B:25:0x00e8, code lost:
        if ((!r1.A0D.equals(r1.A02.A04())) == false) goto L_0x00ea;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public static void A0j(com.whatsapp.mediacomposer.MediaComposerActivity r40) {
        /*
            r0 = r40
            X.653 r1 = r0.A12
            r3 = 0
            r1.A01 = r3
            java.lang.StringBuilder r2 = X.AnonymousClass000.A0u()
            java.lang.String r1 = "MediaComposerActivity/sendmedia uris size = "
            r2.append(r1)
            X.6VT r1 = r0.A0s
            X.00s r1 = r1.A04
            int r1 = X.C36401kF.A00(r1)
            X.C36321k7.A1Y(r2, r1)
            boolean r4 = A0u(r0)
            android.content.Intent r2 = r0.getIntent()
            java.lang.String r1 = "send"
            r5 = 1
            boolean r36 = r2.getBooleanExtra(r1, r5)
            X.6VT r2 = r0.A0s
            boolean r1 = r2.A0H
            if (r1 == 0) goto L_0x004e
            if (r36 == 0) goto L_0x004e
            X.00s r1 = r2.A02
            java.util.List r1 = X.C36401kF.A0w(r1)
            boolean r1 = r1.isEmpty()
            if (r1 == 0) goto L_0x004e
            if (r4 == 0) goto L_0x004a
            X.0yC r2 = r0.A0D
            r1 = 6132(0x17f4, float:8.593E-42)
            boolean r1 = r2.A0E(r1)
            if (r1 != 0) goto L_0x004e
        L_0x004a:
            A0r(r0, r3)
            return
        L_0x004e:
            X.005 r1 = r0.A1R
            java.lang.Object r2 = r1.get()
            X.0rv r2 = (X.C17720rv) r2
            if (r4 == 0) goto L_0x0072
            X.16E r1 = r0.A0a
            boolean r1 = r1.A0H()
            if (r1 == 0) goto L_0x0068
            X.16E r1 = r0.A0a
            boolean r1 = r1.A0G()
            if (r1 == 0) goto L_0x0072
        L_0x0068:
            boolean r1 = r2 instanceof com.whatsapp.base.WaDialogFragment
            if (r1 == 0) goto L_0x0072
            androidx.fragment.app.DialogFragment r2 = (androidx.fragment.app.DialogFragment) r2
            r0.Btm(r2)
            return
        L_0x0072:
            X.6vv r1 = r0.A0u
            X.6BW r1 = r1.A06
            com.whatsapp.WaImageButton r1 = r1.A01
            r1.setEnabled(r3)
            r0.A0H()
            A0h(r0)
            X.6VT r1 = r0.A0s
            boolean r1 = r1.A0H
            if (r1 == 0) goto L_0x0228
            X.3T1 r19 = r0.A0G()
            android.content.Intent r6 = r0.getIntent()
            r1 = 0
            java.lang.String r4 = "picker_open_time"
            long r31 = r6.getLongExtra(r4, r1)
            android.content.Intent r2 = r0.getIntent()
            java.lang.String r1 = "number_from_url"
            boolean r35 = r2.getBooleanExtra(r1, r3)
            android.content.Intent r2 = r0.getIntent()
            java.lang.String r1 = "origin"
            int r30 = r2.getIntExtra(r1, r5)
            android.content.Intent r2 = r0.getIntent()
            java.lang.String r1 = "is_new_content"
            boolean r38 = r2.getBooleanExtra(r1, r3)
            android.content.Intent r4 = r0.getIntent()
            r1 = -1
            java.lang.String r3 = "gallery_duration_ms"
            long r33 = r4.getLongExtra(r3, r1)
            r0.A1b = r5
            X.17Y r4 = r0.A05
            java.lang.Runnable r3 = r0.A1z
            r1 = 300(0x12c, double:1.48E-321)
            r4.A0I(r3, r1)
            X.6VT r1 = r0.A0s
            java.util.List r1 = r1.A0D
            int r1 = r1.size()
            if (r1 <= 0) goto L_0x00ea
            X.6VT r1 = r0.A0s
            java.util.List r2 = r1.A0D
            X.00s r1 = r1.A02
            java.lang.Object r1 = r1.A04()
            boolean r1 = r2.equals(r1)
            r1 = r1 ^ 1
            r40 = 1
            if (r1 != 0) goto L_0x00ec
        L_0x00ea:
            r40 = 0
        L_0x00ec:
            X.6Tg r15 = r0.A1r
            java.util.List r1 = X.AnonymousClass6VT.A03(r0)
            java.lang.Object r1 = X.C36391kE.A0t(r1)
            android.net.Uri r1 = (android.net.Uri) r1
            X.6QO r1 = r15.A03(r1)
            java.lang.String r9 = r1.A0B()
            X.1H2 r3 = r0.A0C
            X.0ts r2 = r0.A0V
            X.1HA r1 = r0.A1J
            X.6Nc r4 = X.AnonymousClass6VQ.A05
            r5 = r0
            r6 = r2
            r7 = r3
            r8 = r1
            X.6VQ r3 = r4.A02(r5, r6, r7, r8, r9)
            if (r3 == 0) goto L_0x0225
            android.graphics.RectF r1 = r3.A02
            float r2 = r1.width()
            float r1 = r1.height()
            java.util.ArrayList r1 = r3.A03(r2, r1)
            if (r1 == 0) goto L_0x0225
            java.util.Iterator r3 = r1.iterator()
        L_0x0126:
            boolean r1 = r3.hasNext()
            if (r1 == 0) goto L_0x0225
            java.lang.Object r1 = r3.next()
            com.whatsapp.InteractiveAnnotation r1 = (com.whatsapp.InteractiveAnnotation) r1
            java.lang.Object r2 = r1.data
            boolean r1 = r2 instanceof X.C63393Jw
            if (r1 == 0) goto L_0x0126
            X.3Jw r2 = (X.C63393Jw) r2
            if (r2 == 0) goto L_0x0225
            X.3nb r7 = new X.3nb
            r7.<init>(r2)
        L_0x0141:
            java.util.List r6 = X.AnonymousClass6VT.A03(r0)
            X.6VT r1 = r0.A0s
            int r1 = r1.A01
            boolean r1 = X.C111075bh.A00(r1)
            if (r1 == 0) goto L_0x0162
            com.whatsapp.mediacomposer.MediaComposerFragment r1 = A0F(r0)
            if (r1 == 0) goto L_0x0162
            java.util.ArrayList r6 = X.AnonymousClass001.A0I()
            com.whatsapp.mediacomposer.MediaComposerFragment r1 = A0F(r0)
            android.net.Uri r1 = r1.A00
            r6.add(r1)
        L_0x0162:
            X.6VT r4 = r0.A0s
            com.whatsapp.mediacomposer.MediaComposerFragment r1 = A0F(r0)
            r3 = 0
            if (r1 == 0) goto L_0x017e
            android.net.Uri r2 = r1.A00
            if (r2 == 0) goto L_0x017e
            java.util.HashSet r1 = r0.A1x
            boolean r1 = r1.contains(r2)
            if (r1 == 0) goto L_0x017e
            boolean r1 = r0.A0s()
            if (r1 == 0) goto L_0x017e
            r3 = 1
        L_0x017e:
            X.0yC r2 = r4.A0A
            r1 = 8033(0x1f61, float:1.1257E-41)
            boolean r1 = r2.A0E(r1)
            if (r1 == 0) goto L_0x0198
            X.6BX r1 = r4.A00
            if (r1 != 0) goto L_0x0216
            java.lang.Boolean r2 = java.lang.Boolean.valueOf(r3)
            r1 = 0
            X.6BX r3 = new X.6BX
            r3.<init>(r2, r1, r1)
        L_0x0196:
            r4.A00 = r3
        L_0x0198:
            X.0wU r3 = r0.A04
            X.60O r13 = r0.A0A
            X.6VT r1 = r0.A0s
            X.00s r1 = r1.A02
            java.util.List r27 = X.C36401kF.A0w(r1)
            java.util.Collection r12 = r0.A1u
            X.653 r1 = r0.A12
            java.util.Map r11 = r1.A09
            java.util.HashSet r10 = r0.A1w
            X.6VT r1 = r0.A0s
            X.00s r1 = r1.A07
            int r2 = X.C36341k9.A07(r1)
            r1 = 3
            boolean r37 = X.AnonymousClass000.A1S(r2, r1)
            X.3XT r14 = X.AnonymousClass6VT.A01(r0)
            boolean r9 = r0.A1Y
            java.lang.Integer r8 = r0.A1S
            java.util.HashSet r5 = r0.A1x
            java.lang.Long r4 = r0.A1g
            X.1Go r1 = r0.A0o
            java.util.HashSet r1 = r1.A02
            int r1 = r1.size()
            java.lang.Long r22 = X.C36441kJ.A0y(r1)
            X.1Go r1 = r0.A0o
            java.util.HashSet r2 = r1.A02
            java.util.HashSet r1 = r1.A03
            java.util.Set r1 = X.C007103b.A0g(r2, r1)
            int r1 = r1.size()
            java.lang.Long r23 = X.C36441kJ.A0y(r1)
            X.6VT r1 = r0.A0s
            X.6BX r1 = r1.A00
            r26 = r5
            r28 = r6
            r29 = r11
            r39 = r9
            r24 = r12
            r25 = r10
            r20 = r8
            r21 = r4
            r18 = r7
            r17 = r0
            r16 = r1
            X.5Mx r1 = r13.A00(r14, r15, r16, r17, r18, r19, r20, r21, r22, r23, r24, r25, r26, r27, r28, r29, r30, r31, r33, r35, r36, r37, r38, r39, r40)
            X.C36331k8.A1F(r1, r3)
            java.lang.String r1 = "CLOSE_ATTACHMENT_TRAY"
            android.content.Intent r1 = X.C36441kJ.A0I(r1)
            X.0wG r0 = r0.A0S
            android.content.Context r0 = r0.A00
            X.0YC r0 = X.AnonymousClass0YC.A00(r0)
            r0.A03(r1)
            return
        L_0x0216:
            java.lang.Long r5 = r1.A02
            java.lang.Boolean r2 = java.lang.Boolean.valueOf(r3)
            java.lang.Integer r1 = r1.A01
            X.6BX r3 = new X.6BX
            r3.<init>(r2, r1, r5)
            goto L_0x0196
        L_0x0225:
            r7 = 0
            goto L_0x0141
        L_0x0228:
            android.content.Intent r3 = X.C36431kI.A0D()
            X.6Tg r1 = r0.A1r
            android.os.Bundle r2 = X.AnonymousClass001.A07()
            X.C132366Tg.A02(r2, r1)
            java.lang.String r1 = "media_preview_params"
            r3.putExtra(r1, r2)
            X.6VT r1 = r0.A0s
            X.00s r1 = r1.A04
            java.util.ArrayList r2 = X.C90504aG.A0t(r1)
            java.lang.String r1 = "android.intent.extra.STREAM"
            r3.putParcelableArrayListExtra(r1, r2)
            r1 = -1
            r0.A1e = r1
            r0.setResult(r1, r3)
            r0.finish()
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.A0j(com.whatsapp.mediacomposer.MediaComposerActivity):void");
    }

    /* JADX WARNING: Code restructure failed: missing block: B:10:0x006c, code lost:
        if (r10.A02.A0L() == false) goto L_0x006e;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public static void A0k(com.whatsapp.mediacomposer.MediaComposerActivity r37) {
        /*
            r10 = r37
            X.0yC r0 = r10.A0D
            r17 = r0
            X.1N2 r0 = r10.A0C
            r16 = r0
            X.0wN r0 = r10.A03
            r37 = r0
            X.12q r15 = r10.A0Y
            X.1H2 r14 = r10.A0C
            X.1XN r13 = r10.A0e
            X.1Sf r12 = r10.A1G
            X.0yb r11 = r10.A08
            X.0ts r9 = r10.A0V
            X.62r r8 = r10.A0c
            com.whatsapp.emoji.search.EmojiSearchProvider r7 = r10.A0f
            X.0v0 r6 = r10.A09
            X.6VT r5 = r10.A0s
            X.0wg r4 = r10.A1B
            X.6O1 r3 = r10.A0d
            X.00s r0 = r5.A02
            java.util.List r33 = X.C36401kF.A0w(r0)
            X.6vv r0 = r10.A0u
            X.64H r0 = r0.A03
            com.whatsapp.mediacomposer.bottombar.caption.CaptionView r0 = r0.A03
            java.lang.CharSequence r32 = r0.getCaptionText()
            if (r32 != 0) goto L_0x003a
            java.lang.String r32 = ""
        L_0x003a:
            X.6VT r0 = r10.A0s
            int r34 = r0.A07()
            X.3T1 r0 = r10.A0G()
            r35 = 1
            if (r0 != 0) goto L_0x00ba
            java.util.Collection r0 = X.AnonymousClass6VT.A02(r10)
            boolean r0 = X.AnonymousClass143.A0L(r0)
            if (r0 != 0) goto L_0x00ba
        L_0x0052:
            X.005 r0 = r10.A1t
            java.lang.Object r2 = r0.get()
            X.2na r2 = (X.C51292na) r2
            X.3G2 r1 = r10.A0x
            X.6VT r0 = r10.A0s
            boolean r0 = r0.A0C()
            if (r0 != 0) goto L_0x006e
            X.0wQ r0 = r10.A02
            boolean r0 = r0.A0L()
            r36 = 1
            if (r0 != 0) goto L_0x0070
        L_0x006e:
            r36 = 0
        L_0x0070:
            X.4ab r0 = new X.4ab
            r28 = r1
            r29 = r4
            r30 = r12
            r31 = r16
            r24 = r7
            r25 = r17
            r26 = r5
            r27 = r2
            r20 = r8
            r21 = r3
            r22 = r13
            r23 = r14
            r16 = r11
            r17 = r6
            r18 = r9
            r19 = r15
            r13 = r0
            r14 = r37
            r15 = r10
            r13.<init>(r14, r15, r16, r17, r18, r19, r20, r21, r22, r23, r24, r25, r26, r27, r28, r29, r30, r31, r32, r33, r34, r35, r36)
            r10.A0v = r0
            r0.show()
            X.6vv r1 = r10.A0u
            X.6VT r0 = r10.A0s
            boolean r0 = r0.A0C()
            r1.A04(r0)
            X.6vv r0 = r10.A0u
            r0.A01()
            X.4ab r2 = r10.A0v
            r1 = 6
            X.7r4 r0 = new X.7r4
            r0.<init>(r10, r1)
            r2.setOnDismissListener(r0)
            return
        L_0x00ba:
            r35 = 0
            goto L_0x0052
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.A0k(com.whatsapp.mediacomposer.MediaComposerActivity):void");
    }

    public static void A0n(MediaComposerActivity mediaComposerActivity) {
        int A002;
        mediaComposerActivity.A0u.A03.A00((Integer) mediaComposerActivity.A0s.A07.A04());
        MediaComposerFragment A0F2 = A0F(mediaComposerActivity);
        if (A0F2 != null) {
            AnonymousClass6VT r1 = mediaComposerActivity.A0s;
            Uri A082 = r1.A08();
            if (A082 == null || !((A002 = C132366Tg.A00(A082, r1)) == 13 || A002 == 29)) {
                A0F2.A1i(AnonymousClass000.A1S(C36341k9.A07(mediaComposerActivity.A0s.A07), 3));
                A0F2.A1e();
            }
        }
    }

    /* JADX WARNING: Code restructure failed: missing block: B:35:0x00e9, code lost:
        if (X.C20800yB.A01(X.C21000yV.A01, r0.A00, 7793) == false) goto L_0x00eb;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public static void A0o(com.whatsapp.mediacomposer.MediaComposerActivity r9, int r10) {
        /*
            if (r10 < 0) goto L_0x019c
            r6 = r9
            X.6VT r0 = r9.A0s
            X.00s r0 = r0.A04
            int r0 = X.C36401kF.A00(r0)
            if (r10 >= r0) goto L_0x019c
            X.6VT r0 = r9.A0s
            r0.A09(r10)
            X.C146636vv.A00(r9)
            X.6vv r2 = r9.A0u
            X.6VT r0 = r9.A0s
            X.00s r0 = r0.A03
            int r1 = X.C36341k9.A07(r0)
            X.6vx r0 = r2.A07
            androidx.recyclerview.widget.RecyclerView r0 = r0.A05
            r0.A0i(r1)
            com.whatsapp.mediacomposer.MediaComposerFragment r3 = A0F(r9)
            java.util.List r0 = r9.A2m()
            java.util.Iterator r5 = r0.iterator()
        L_0x0032:
            boolean r0 = r5.hasNext()
            if (r0 == 0) goto L_0x006c
            java.lang.Object r1 = r5.next()
            X.02E r1 = (X.AnonymousClass02E) r1
            boolean r0 = r1 instanceof com.whatsapp.mediacomposer.MediaComposerFragment
            if (r0 == 0) goto L_0x0032
            if (r1 == r3) goto L_0x0032
            com.whatsapp.mediacomposer.MediaComposerFragment r1 = (com.whatsapp.mediacomposer.MediaComposerFragment) r1
            boolean r0 = r1 instanceof com.whatsapp.mediacomposer.VideoComposerFragment
            if (r0 != 0) goto L_0x0065
            boolean r0 = r1 instanceof com.whatsapp.mediacomposer.ImageComposerFragment
            if (r0 == 0) goto L_0x0065
            com.whatsapp.mediacomposer.ImageComposerFragment r1 = (com.whatsapp.mediacomposer.ImageComposerFragment) r1
            r4 = 0
            r1.A0V = r4
            X.6WR r2 = r1.A05
            android.os.Handler r1 = r2.A0J
            java.lang.Runnable r0 = r2.A0W
            r1.removeCallbacks(r0)
            r0 = 0
            r2.A02 = r0
            r2.A09 = r4
            X.AnonymousClass6WR.A00(r2)
            goto L_0x0032
        L_0x0065:
            r0 = 0
            r1.A0V = r0
            r1.A1l()
            goto L_0x0032
        L_0x006c:
            r10 = 1
            if (r3 == 0) goto L_0x0150
            android.content.Intent r1 = r9.getIntent()
            java.lang.String r0 = "smb_send_product"
            r2 = 0
            boolean r0 = r1.getBooleanExtra(r0, r2)
            if (r0 != 0) goto L_0x0150
            X.6VT r0 = r9.A0s
            X.00s r0 = r0.A06
            int r1 = X.C36341k9.A07(r0)
            r0 = 5
            r5 = 0
            if (r1 == r0) goto L_0x00a2
            X.6VT r0 = r9.A0s
            X.00s r0 = r0.A06
            int r0 = X.C36341k9.A07(r0)
            if (r0 == r10) goto L_0x00a2
            X.6VT r0 = r9.A0s
            X.00s r0 = r0.A06
            int r1 = X.C36341k9.A07(r0)
            r0 = 3
            if (r1 == r0) goto L_0x00a2
            X.6VT r0 = r9.A0s
            r0.A0A(r2)
        L_0x00a2:
            X.6VT r0 = r9.A0s
            boolean r0 = r0.A0F
            if (r0 == 0) goto L_0x00ab
            r3.A1j(r2)
        L_0x00ab:
            X.6VT r0 = r9.A0s
            int r1 = r0.A01
            r0 = 35
            if (r1 != r0) goto L_0x00b6
            r3.A1j(r10)
        L_0x00b6:
            r3.A1f()
            A0l(r9)
            java.util.List r1 = X.AnonymousClass6VT.A03(r9)
            X.6VT r0 = r9.A0s
            X.00s r0 = r0.A03
            int r0 = X.C36341k9.A07(r0)
            java.lang.Object r2 = r1.get(r0)
            android.net.Uri r2 = (android.net.Uri) r2
            X.1Gn r1 = r9.A0m
            X.6Tg r0 = r9.A1r
            X.6QO r0 = r0.A03(r2)
            int r1 = r1.A01(r0)
            X.5m9 r0 = r9.A0j
            if (r1 != r10) goto L_0x00eb
            X.0yC r2 = r0.A00
            X.0yV r1 = X.C21000yV.A01
            r0 = 7793(0x1e71, float:1.092E-41)
            boolean r0 = X.C20800yB.A01(r1, r2, r0)
            r1 = 0
            if (r0 != 0) goto L_0x00ed
        L_0x00eb:
            r1 = 8
        L_0x00ed:
            X.6Fh r0 = r9.A10
            com.whatsapp.mediacomposer.doodle.titlebar.TitleBarView r0 = r0.A0I
            r0.setMagicModVisibility(r1)
            boolean r0 = r9.A1k
            if (r0 == 0) goto L_0x0107
            X.0yC r1 = r9.A0D
            r0 = 4361(0x1109, float:6.111E-42)
            boolean r0 = r1.A0E(r0)
            if (r0 != 0) goto L_0x0107
            r9.A0K()
            r9.A1k = r5
        L_0x0107:
            boolean r0 = r9.A1n
            if (r0 != 0) goto L_0x0133
            android.content.Intent r2 = r9.getIntent()
            r1 = -1
            java.lang.String r0 = "media_sharing_user_journey_origin"
            int r4 = r2.getIntExtra(r0, r1)
            if (r4 <= 0) goto L_0x0133
            boolean r0 = r3 instanceof com.whatsapp.mediacomposer.ImageComposerFragment
            if (r0 == 0) goto L_0x0193
            X.6VT r0 = r9.A0s
            int r0 = r0.A01
            boolean r0 = X.C111075bh.A00(r0)
            r2 = 9
            if (r0 == 0) goto L_0x012a
            r2 = 19
        L_0x012a:
            X.66x r1 = r9.A1O
            r0 = 60
            r1.A01(r2, r4, r0)
            r9.A1n = r10
        L_0x0133:
            boolean r0 = r3 instanceof com.whatsapp.mediacomposer.ImageComposerFragment
            if (r0 != 0) goto L_0x013b
            boolean r0 = r3 instanceof com.whatsapp.mediacomposer.VideoComposerFragment
            if (r0 == 0) goto L_0x0147
        L_0x013b:
            boolean r0 = r9.A1j
            if (r0 == 0) goto L_0x018f
            A0m(r9)
            r9.A1j = r5
        L_0x0144:
            r9.A3k(r5)
        L_0x0147:
            X.6Fh r2 = r9.A10
            X.6vv r1 = r9.A0u
            X.6VT r0 = r9.A0s
            r3.A1h(r0, r1, r2)
        L_0x0150:
            X.6VT r0 = r9.A0s
            android.net.Uri r2 = r0.A08()
            X.1Go r1 = r9.A0o
            r0 = 0
            X.AnonymousClass00C.A0D(r2, r0)
            java.util.HashSet r0 = r1.A03
            r0.add(r2)
            X.6Tg r0 = r9.A1r
            X.C18740tg.A06(r2)
            X.6QO r2 = r0.A03(r2)
            r7 = 0
            java.lang.String r0 = r2.A0A()
            if (r0 == 0) goto L_0x0189
            java.lang.String r0 = r2.A0A()
            android.text.SpannableStringBuilder r7 = X.C36441kJ.A0P(r0)
            X.1Sj r5 = r9.A14
            r8 = 0
            X.1YL r1 = r9.A13
            java.lang.String r0 = r2.A0C()
            java.util.List r9 = r1.A00(r0)
            r5.A04(r6, r7, r8, r9, r10)
        L_0x0189:
            X.6vv r0 = r6.A0u
            r0.A02(r7, r10)
            return
        L_0x018f:
            A0l(r9)
            goto L_0x0144
        L_0x0193:
            boolean r0 = r3 instanceof com.whatsapp.mediacomposer.VideoComposerFragment
            r2 = 12
            if (r0 == 0) goto L_0x012a
            r2 = 11
            goto L_0x012a
        L_0x019c:
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.A0o(com.whatsapp.mediacomposer.MediaComposerActivity, int):void");
    }

    public static void A0q(MediaComposerActivity mediaComposerActivity, MediaComposerFragment mediaComposerFragment) {
        C146806wC r0;
        C146806wC r1;
        Uri uri = mediaComposerFragment.A00;
        C132366Tg r7 = mediaComposerActivity.A1r;
        AnonymousClass6QO A032 = r7.A03(uri);
        C146806wC r02 = mediaComposerFragment.A0E;
        boolean z = true;
        if (r02 == null || !C36401kF.A1a(r02.A0T.A04)) {
            z = false;
        }
        String str = null;
        if (z && (r1 = mediaComposerFragment.A0E) != null) {
            AnonymousClass6OT r03 = r1.A0O;
            RectF rectF = r03.A07;
            RectF rectF2 = r03.A08;
            if (!(rectF == null || rectF2 == null)) {
                str = new AnonymousClass6VQ(rectF, rectF2, r1.A0T.A04, r03.A02).A02();
            }
        }
        A032.A0I(str);
        AnonymousClass6QO A033 = r7.A03(uri);
        C146806wC r04 = mediaComposerFragment.A0E;
        boolean z2 = true;
        if (r04 == null || !C36401kF.A1a(r04.A0T.A04)) {
            z2 = false;
        }
        String str2 = null;
        if (z2 && (r0 = mediaComposerFragment.A0E) != null) {
            AnonymousClass6FV r05 = r0.A0T;
            try {
                str2 = r05.A03.A01(r05.A04);
            } catch (JSONException e) {
                Log.e("ShapeRepository/saveEditState", e);
                str2 = null;
            }
        }
        synchronized (A033) {
            A033.A0B = str2;
        }
    }

    private boolean A0s() {
        MediaComposerFragment A0F2;
        if (C111075bh.A00(this.A0s.A01) || (A0F2 = A0F(this)) == null) {
            return false;
        }
        if (!A0u(this)) {
            return true;
        }
        if (!(A0F2 instanceof ImageComposerFragment)) {
            return false;
        }
        if (C20800yB.A01(C21000yV.A01, this.A0p.A02, 6033)) {
            return true;
        }
        return false;
    }

    public void A2F() {
        if (!this.A1l) {
            this.A1l = true;
            C27111My A0L2 = C36351kA.A0L(this);
            C18800tq r1 = A0L2.A5g;
            C90464aC.A11(r1, this);
            C18830tt r2 = r1.A00;
            C90464aC.A0y(r1, r2, this, C36321k7.A05(r1, r2, this));
            this.A1M = (AnonymousClass1X7) r1.A4o.get();
            this.A0I = C90504aG.A0L(r1);
            this.A14 = (C28371Sj) r1.A4r.get();
            this.A0E = (AnonymousClass1XY) r1.A7c.get();
            this.A0S = C36351kA.A0W(r1);
            this.A0Y = C36351kA.A0a(r1);
            this.A0g = C36351kA.A0g(r1);
            this.A08 = (AnonymousClass1NC) r1.A0C.get();
            this.A15 = (AnonymousClass1XS) r1.A3U.get();
            this.A0a = (AnonymousClass16E) r1.A80.get();
            this.A0F = C36361kB.A0T(r1);
            this.A0p = (AnonymousClass1D1) r1.APG.get();
            this.A0r = (AnonymousClass1E2) r1.Adc.get();
            this.A0D = (C32691e2) r1.A4R.get();
            this.A0l = (AnonymousClass1D5) r1.A4j.get();
            this.A13 = (AnonymousClass1YL) r1.ARO.get();
            this.A0e = (AnonymousClass1XN) r1.A7G.get();
            this.A1G = (C28331Sf) r1.A7w.get();
            this.A0c = C36371kC.A0b(r2);
            this.A0b = (C1032954s) r2.A8H.get();
            this.A16 = C36361kB.A0c(r1);
            this.A1Q = (C28781Ua) r1.A9d.get();
            this.A0J = C36341k9.A0R(r1);
            this.A0j = (C117365m9) A0L2.A2x.get();
            this.A1N = (AnonymousClass1GX) r1.A4k.get();
            this.A0q = (AnonymousClass1GJ) r1.Ad3.get();
            this.A0M = C36341k9.A0S(r1);
            this.A0V = C36341k9.A0T(r1);
            this.A0C = (C26861Lu) r1.A2c.get();
            this.A0n = (AnonymousClass1D0) r1.A4l.get();
            this.A19 = (AnonymousClass1EU) r1.A6M.get();
            this.A0O = (C21159AAt) r1.A2F.get();
            this.A09 = (AnonymousClass1N4) r1.AXM.get();
            this.A0Z = C36371kC.A0Z(r1);
            this.A1P = (AnonymousClass1UM) r1.A3S.get();
            this.A1K = C36351kA.A0n(r1);
            this.A0N = (C235618y) r1.A15.get();
            this.A0R = (AnonymousClass1MP) r1.A8X.get();
            this.A0G = (WfalManager) r1.A9U.get();
            this.A0m = C18800tq.AF5(r1);
            this.A0f = C36351kA.A0f(r2);
            this.A0X = (AnonymousClass1DX) r1.AFJ.get();
            this.A0L = C36371kC.A0U(r1);
            this.A0U = C36351kA.A0X(r1);
            this.A0k = (C145146tQ) r2.A9b.get();
            this.A0Q = (AnonymousClass1A6) r1.A2P.get();
            this.A0z = (AnonymousClass6vC) r2.ACD.get();
            this.A1H = (C29731Xt) r1.A81.get();
            this.A18 = C90504aG.A0R(r1);
            this.A11 = (C117485mL) r2.A9a.get();
            this.A1J = (AnonymousClass1HA) r1.A84.get();
            this.A17 = C90494aF.A0N(r2);
            this.A1A = (C29151Vn) r1.AVb.get();
            this.A1B = C36351kA.A0m(r1);
            this.A1F = (C64883Pu) r2.ACT.get();
            this.A0K = (C27261Nn) r1.AQN.get();
            this.A1L = C90504aG.A0V(r1);
            this.A0d = C36351kA.A0c(r2);
            this.A0W = (C25851Hx) r1.AGV.get();
            this.A0x = C27111My.A2d(A0L2);
            this.A1R = C18840tu.A00(r2.A8J);
            this.A0T = C36411kG.A0c(r1);
            this.A0B = (AnonymousClass3Bu) A0L2.A1S.get();
            this.A0H = (C603437m) r2.A5d.get();
            this.A0P = C90474aD.A0R(r2);
            this.A0A = (AnonymousClass60O) A0L2.A3J.get();
            this.A1E = C27111My.A36(A0L2);
            C20810yC r6 = (C20810yC) r1.A02.get();
            AnonymousClass17Y r4 = (AnonymousClass17Y) r1.A3e.get();
            C25491Gn AF6 = C18800tq.AF5(r1);
            this.A12 = new AnonymousClass653(r4, (C21060yb) r1.A8W.get(), r6, AF6, (AnonymousClass1D0) r1.A4l.get(), (C19890wg) r1.A7i.get());
            this.A0o = (C25501Go) r1.ATm.get();
            this.A1I = (C132106Se) r2.ACc.get();
            this.A1O = (C1270866x) r2.A9g.get();
            this.A0y = new C117415mE((C20810yC) r1.A02.get());
        }
    }

    public Pair A3i(AnonymousClass6BV r10, C1273567y r11, long j, boolean z, boolean z2) {
        long j2 = r11.A03;
        long j3 = (long) r10.A00;
        if (j > j3 * 1048576) {
            j2 = ((j2 * j3) * 1048576) / j;
        }
        int BDu = BDu(j2);
        boolean z3 = false;
        if (BDu > 0) {
            long A072 = C36371kC.A07(BDu);
            if (j2 > A072) {
                if (z2) {
                    z3 = true;
                    AnonymousClass17Y r2 = this.A05;
                    int i = 41;
                    if (z) {
                        i = 40;
                    }
                    r2.A0H(new C81283wl((Object) this, BDu, i));
                }
                j2 = A072;
            }
        }
        return C36441kJ.A0Q(Long.valueOf(j2), Boolean.valueOf(z3));
    }

    /* JADX WARNING: Code restructure failed: missing block: B:21:0x0043, code lost:
        if (A0s() != false) goto L_0x0045;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:3:0x000b, code lost:
        if (r0.intValue() != 3) goto L_0x000d;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:8:0x0017, code lost:
        if (r2.A0I.A0X == false) goto L_0x0019;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public void A3k(boolean r15) {
        /*
            r14 = this;
            java.lang.Integer r0 = r14.A1S
            r3 = 1
            if (r0 == 0) goto L_0x000d
            int r1 = r0.intValue()
            r0 = 3
            r4 = 1
            if (r1 == r0) goto L_0x000e
        L_0x000d:
            r4 = 0
        L_0x000e:
            X.6Fh r2 = r14.A10
            if (r4 == 0) goto L_0x0019
            com.whatsapp.mediacomposer.doodle.titlebar.TitleBarView r0 = r2.A0I
            boolean r1 = r0.A0X
            r0 = 1
            if (r1 != 0) goto L_0x001a
        L_0x0019:
            r0 = 0
        L_0x001a:
            r2.A0A(r0)
            com.whatsapp.mediacomposer.MediaComposerFragment r1 = A0F(r14)
            boolean r0 = r1 instanceof com.whatsapp.mediacomposer.ImageComposerFragment
            if (r0 == 0) goto L_0x0052
            if (r15 == 0) goto L_0x0030
            com.whatsapp.mediacomposer.MediaComposerFragment r0 = A0F(r14)
            if (r0 == 0) goto L_0x0030
            A0q(r14, r0)
        L_0x0030:
            r2 = r1
            com.whatsapp.mediacomposer.ImageComposerFragment r2 = (com.whatsapp.mediacomposer.ImageComposerFragment) r2
            if (r4 == 0) goto L_0x0100
            android.net.Uri r1 = r1.A00
            java.util.HashSet r0 = r14.A1x
            boolean r0 = r0.contains(r1)
            if (r0 == 0) goto L_0x0100
            boolean r0 = r14.A0s()
            if (r0 == 0) goto L_0x0100
        L_0x0045:
            boolean r0 = r2.A08
            if (r0 == r3) goto L_0x0052
            r2.A08 = r3
            r0 = 0
            com.whatsapp.mediacomposer.ImageComposerFragment.A08(r0, r2)
            com.whatsapp.mediacomposer.ImageComposerFragment.A09(r2)
        L_0x0052:
            X.1E2 r0 = r14.A0r
            boolean r0 = r0.A00()
            if (r0 == 0) goto L_0x0103
            java.util.List r0 = r14.A2m()
            java.util.Iterator r13 = r0.iterator()
        L_0x0062:
            boolean r0 = r13.hasNext()
            if (r0 == 0) goto L_0x0103
            java.lang.Object r8 = r13.next()
            X.02E r8 = (X.AnonymousClass02E) r8
            boolean r0 = r8 instanceof com.whatsapp.mediacomposer.VideoComposerFragment
            if (r0 == 0) goto L_0x0062
            com.whatsapp.mediacomposer.VideoComposerFragment r8 = (com.whatsapp.mediacomposer.VideoComposerFragment) r8
            java.lang.Integer r0 = r14.A1S
            int r1 = r0.intValue()
            int r0 = r8.A00
            if (r0 == r1) goto L_0x0062
            r9 = 3
            boolean r0 = X.AnonymousClass000.A1S(r1, r9)
            r8.A00 = r1
            long r6 = r8.A01
            if (r0 == 0) goto L_0x00fd
            long r4 = r8.A02
        L_0x008b:
            r8.A01 = r4
            long r2 = r8.A06
            long r0 = r8.A05
            long r11 = r2 - r0
            int r10 = (r11 > r4 ? 1 : (r11 == r4 ? 0 : -1))
            if (r10 > 0) goto L_0x009f
            int r10 = (r11 > r6 ? 1 : (r11 == r6 ? 0 : -1))
            if (r10 != 0) goto L_0x00b4
            int r10 = (r4 > r6 ? 1 : (r4 == r6 ? 0 : -1))
            if (r10 <= 0) goto L_0x00b4
        L_0x009f:
            r6 = 1000(0x3e8, double:4.94E-321)
            int r2 = (r4 > r6 ? 1 : (r4 == r6 ? 0 : -1))
            if (r2 >= 0) goto L_0x00a7
            r4 = 1000(0x3e8, double:4.94E-321)
        L_0x00a7:
            long r2 = r0 + r4
            long r5 = X.C90474aD.A0E(r8)
            int r4 = (r2 > r5 ? 1 : (r2 == r5 ? 0 : -1))
            if (r4 <= 0) goto L_0x00b2
            r2 = r5
        L_0x00b2:
            r8.A06 = r2
        L_0x00b4:
            com.whatsapp.mediacomposer.VideoTimelineView r5 = r8.A0G
            if (r5 == 0) goto L_0x00cf
            r5.A0A = r0
            r5.A0B = r2
            r5.invalidate()
            boolean r0 = r8.A0Q
            long r3 = r8.A01
            if (r0 == 0) goto L_0x00cd
            r1 = 7000(0x1b58, double:3.4585E-320)
            int r0 = (r3 > r1 ? 1 : (r3 == r1 ? 0 : -1))
            if (r0 <= 0) goto L_0x00cd
            r3 = 7000(0x1b58, double:3.4585E-320)
        L_0x00cd:
            r5.A09 = r3
        L_0x00cf:
            android.net.Uri r1 = r8.A00
            if (r1 == 0) goto L_0x00e0
            X.7le r0 = r8.A1a()
            if (r0 == 0) goto L_0x00e0
            long r2 = r8.A05
            long r4 = r8.A06
            r0.Bsc(r1, r2, r4)
        L_0x00e0:
            X.3Qq r3 = r8.A0L
            if (r3 == 0) goto L_0x00ec
            long r1 = r8.A05
            int r0 = (int) r1
            int r0 = r0 + 1
            r3.A0L(r0)
        L_0x00ec:
            com.whatsapp.mediacomposer.VideoComposerFragment.A08(r8)
            int r0 = r8.A00
            if (r0 != r9) goto L_0x00f8
            com.whatsapp.mediacomposer.VideoComposerFragment.A03(r8)
            goto L_0x0062
        L_0x00f8:
            com.whatsapp.mediacomposer.VideoComposerFragment.A05(r8)
            goto L_0x0062
        L_0x00fd:
            long r4 = r8.A03
            goto L_0x008b
        L_0x0100:
            r3 = 0
            goto L_0x0045
        L_0x0103:
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.A3k(boolean):void");
    }

    public Uri B8e() {
        if (AnonymousClass3U9.A00) {
            return (Uri) getIntent().getParcelableExtra("animate_uri");
        }
        return null;
    }

    public String BBN(Uri uri) {
        String str;
        AnonymousClass6QO A032 = this.A1r.A03(uri);
        synchronized (A032) {
            str = A032.A0B;
        }
        return str;
    }

    public void BW2() {
        A0M(this.A0s.A08(), this);
        A0H();
        C146636vv r2 = this.A0u;
        boolean A0C2 = this.A0s.A0C();
        r2.A07.A09.A06();
        r2.A03(A0C2);
    }

    public void BXy(float f) {
        int i;
        float f2 = 1.0f - f;
        int i2 = (f2 > 0.0f ? 1 : (f2 == 0.0f ? 0 : -1));
        BottomBarView bottomBarView = this.A0u.A02;
        if (i2 == 0) {
            i = 4;
        } else {
            if (bottomBarView.getVisibility() != 0) {
                i = 0;
            }
            bottomBarView.setAlpha(f2);
        }
        bottomBarView.setVisibility(i);
        bottomBarView.setAlpha(f2);
    }

    /* JADX WARNING: Code restructure failed: missing block: B:15:0x003b, code lost:
        if (3 != r1) goto L_0x003d;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:31:0x0097, code lost:
        if (r0 == null) goto L_0x0099;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:3:0x000a, code lost:
        if (r0.equals(r11) != false) goto L_0x000c;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:90:0x01af, code lost:
        if (r0 != 3) goto L_0x01b1;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public void BaZ(java.lang.Integer r11) {
        /*
            r10 = this;
            java.lang.Integer r0 = r10.A1S
            r6 = 1
            if (r0 == 0) goto L_0x000c
            boolean r0 = r0.equals(r11)
            r1 = 1
            if (r0 == 0) goto L_0x000d
        L_0x000c:
            r1 = 0
        L_0x000d:
            r10.A1S = r11
            X.1E2 r0 = r10.A0r
            boolean r0 = r0.A00()
            if (r0 == 0) goto L_0x001a
            r10.A0K()
        L_0x001a:
            r10.A3k(r6)
            if (r1 == 0) goto L_0x00a7
            X.0yC r1 = r10.A0D
            r0 = 7589(0x1da5, float:1.0634E-41)
            boolean r0 = X.AnonymousClass1Ax.A03(r1, r0)
            if (r0 == 0) goto L_0x00be
            X.0wG r3 = r10.A0S
            java.lang.Integer r1 = r10.A1S
            r0 = 0
            X.AnonymousClass00C.A0D(r3, r0)
            if (r1 == 0) goto L_0x003d
            int r1 = r1.intValue()
            r0 = 3
            r2 = 2131895257(0x7f1223d9, float:1.9425342E38)
            if (r0 == r1) goto L_0x0040
        L_0x003d:
            r2 = 2131895252(0x7f1223d4, float:1.9425332E38)
        L_0x0040:
            java.lang.String r1 = r3.A01(r2)
            X.AnonymousClass00C.A0B(r1)
        L_0x0047:
            android.widget.Toast r0 = r10.A05
            if (r0 == 0) goto L_0x0051
            r0.cancel()
            r0 = 0
            r10.A05 = r0
        L_0x0051:
            X.17Y r0 = r10.A05
            r2 = 0
            android.widget.Toast r1 = r0.A01(r1)
            r10.A05 = r1
            r0 = 17
            r1.setGravity(r0, r2, r2)
            android.widget.Toast r0 = r10.A05
            r0.show()
            java.lang.Integer r0 = r10.A1S
            if (r0 == 0) goto L_0x0083
            X.0yC r1 = r10.A0D
            r0 = 7589(0x1da5, float:1.0634E-41)
            boolean r0 = X.AnonymousClass1Ax.A03(r1, r0)
            if (r0 == 0) goto L_0x0083
            X.0v0 r1 = r10.A09
            java.lang.Integer r0 = r10.A1S
            int r2 = r0.intValue()
            android.content.SharedPreferences$Editor r1 = X.C19420v0.A00(r1)
            java.lang.String r0 = "original_media_quality"
            X.C36341k9.A0v(r1, r0, r2)
        L_0x0083:
            X.6VT r5 = r10.A0s
            X.0yC r1 = r5.A0A
            r0 = 8033(0x1f61, float:1.1257E-41)
            boolean r0 = r1.A0E(r0)
            if (r0 == 0) goto L_0x00a7
            X.6BX r4 = r5.A00
            r2 = 0
            if (r4 == 0) goto L_0x00b2
            java.lang.Long r0 = r4.A02
            if (r0 != 0) goto L_0x00b6
        L_0x0099:
            java.lang.Long r3 = java.lang.Long.valueOf(r2)
            if (r4 != 0) goto L_0x00a8
            r0 = 0
            X.6BX r2 = new X.6BX
            r2.<init>(r0, r0, r3)
        L_0x00a5:
            r5.A00 = r2
        L_0x00a7:
            return
        L_0x00a8:
            java.lang.Boolean r1 = r4.A00
            java.lang.Integer r0 = r4.A01
            X.6BX r2 = new X.6BX
            r2.<init>(r1, r0, r3)
            goto L_0x00a5
        L_0x00b2:
            java.lang.Long r0 = java.lang.Long.valueOf(r2)
        L_0x00b6:
            long r2 = r0.longValue()
            r0 = 1
            long r2 = r2 + r0
            goto L_0x0099
        L_0x00be:
            java.lang.Integer r0 = r10.A1S
            if (r0 == 0) goto L_0x0104
            int r0 = r0.intValue()
            r8 = 3
            if (r0 != r8) goto L_0x0104
            java.util.HashSet r0 = r10.A1x
            java.util.Iterator r7 = r0.iterator()
            r5 = 0
            r4 = 0
            r3 = 0
            r2 = 0
        L_0x00d3:
            boolean r0 = r7.hasNext()
            if (r0 == 0) goto L_0x015c
            java.lang.Object r1 = r7.next()
            android.net.Uri r1 = (android.net.Uri) r1
            X.6Tg r0 = r10.A1r
            X.6QO r1 = r0.A03(r1)
            X.1Gn r0 = r10.A0m
            int r0 = r0.A01(r1)
            if (r0 != r6) goto L_0x00f0
            int r4 = r4 + 1
            goto L_0x00d3
        L_0x00f0:
            if (r0 != r8) goto L_0x00fb
            boolean r0 = r1.A0K()
            if (r0 != 0) goto L_0x00fb
            int r3 = r3 + 1
            goto L_0x00d3
        L_0x00fb:
            boolean r0 = r1.A0K()
            if (r0 == 0) goto L_0x00d3
            int r2 = r2 + 1
            goto L_0x00d3
        L_0x0104:
            X.6Tg r0 = r10.A1r
            java.util.Map r0 = r0.A00
            java.util.ArrayList r0 = X.C90494aF.A0g(r0)
            java.util.Iterator r9 = r0.iterator()
            r8 = 0
            r7 = 0
            r5 = 0
            r4 = 0
        L_0x0114:
            boolean r0 = r9.hasNext()
            r3 = 2
            r2 = 3
            if (r0 == 0) goto L_0x0140
            java.lang.Object r1 = r9.next()
            X.6QO r1 = (X.AnonymousClass6QO) r1
            X.1Gn r0 = r10.A0m
            int r0 = r0.A01(r1)
            if (r0 != r6) goto L_0x014d
            int r7 = r7 + 1
            if (r7 <= r6) goto L_0x0132
            if (r5 <= r6) goto L_0x0132
        L_0x0130:
            if (r4 > r6) goto L_0x0140
        L_0x0132:
            boolean r0 = r1.A0K()
            if (r0 == 0) goto L_0x0114
            int r4 = r4 + 1
            if (r4 <= r6) goto L_0x0114
            if (r7 <= r6) goto L_0x0114
            if (r5 <= r6) goto L_0x0114
        L_0x0140:
            java.lang.Integer[] r0 = new java.lang.Integer[r2]
            X.C36331k8.A1X(r0, r7, r8, r5, r6)
            X.AnonymousClass000.A1L(r0, r4, r3)
            java.util.List r0 = java.util.Arrays.asList(r0)
            goto L_0x0169
        L_0x014d:
            if (r0 != r2) goto L_0x0132
            boolean r0 = r1.A0K()
            if (r0 != 0) goto L_0x0132
            int r5 = r5 + 1
            if (r5 <= r6) goto L_0x0132
            if (r7 <= r6) goto L_0x0132
            goto L_0x0130
        L_0x015c:
            java.lang.Integer[] r1 = new java.lang.Integer[r8]
            X.C36331k8.A1X(r1, r4, r5, r3, r6)
            r0 = 2
            X.AnonymousClass000.A1L(r1, r2, r0)
            java.util.List r0 = java.util.Arrays.asList(r1)
        L_0x0169:
            java.util.ArrayList r1 = X.C36441kJ.A15(r0)
            X.0ts r5 = r10.A0V
            java.lang.Integer r3 = r10.A1S
            r4 = 0
            X.AnonymousClass00C.A0D(r5, r4)
            java.lang.Object r0 = r1.get(r4)
            int r7 = X.AnonymousClass000.A0I(r0)
            java.lang.Object r0 = r1.get(r6)
            int r9 = X.AnonymousClass000.A0I(r0)
            r0 = 2
            java.lang.Object r0 = r1.get(r0)
            int r8 = X.AnonymousClass000.A0I(r0)
            java.util.Iterator r1 = r1.iterator()
            r2 = 0
        L_0x0193:
            boolean r0 = r1.hasNext()
            if (r0 == 0) goto L_0x01a3
            int r0 = X.C36341k9.A0A(r1)
            if (r0 <= 0) goto L_0x0193
            int r2 = r2 + 1
            if (r2 <= r6) goto L_0x0193
        L_0x01a3:
            r1 = 3
            if (r2 <= r6) goto L_0x01c5
            if (r3 == 0) goto L_0x01b1
            int r0 = r3.intValue()
            r3 = 2131755203(0x7f1000c3, float:1.9141279E38)
            if (r0 == r1) goto L_0x01b4
        L_0x01b1:
            r3 = 2131755202(0x7f1000c2, float:1.9141277E38)
        L_0x01b4:
            int r7 = r7 + r9
            int r7 = r7 + r8
        L_0x01b6:
            long r1 = (long) r7
            java.lang.Object[] r0 = new java.lang.Object[r6]
            X.AnonymousClass000.A1L(r0, r7, r4)
            java.lang.String r1 = r5.A0L(r0, r3, r1)
            X.AnonymousClass00C.A08(r1)
            goto L_0x0047
        L_0x01c5:
            if (r7 <= 0) goto L_0x01eb
            if (r3 == 0) goto L_0x01e3
            int r0 = r3.intValue()
            if (r0 != r1) goto L_0x01e3
            java.lang.Integer r1 = java.lang.Integer.valueOf(r7)
            r0 = 2131755190(0x7f1000b6, float:1.9141252E38)
        L_0x01d6:
            java.lang.Integer r0 = java.lang.Integer.valueOf(r0)
            int r7 = r1.intValue()
            int r3 = r0.intValue()
            goto L_0x01b6
        L_0x01e3:
            java.lang.Integer r1 = java.lang.Integer.valueOf(r7)
            r0 = 2131755189(0x7f1000b5, float:1.914125E38)
            goto L_0x01d6
        L_0x01eb:
            if (r9 <= 0) goto L_0x0205
            if (r3 == 0) goto L_0x01fd
            int r0 = r3.intValue()
            if (r0 != r1) goto L_0x01fd
            java.lang.Integer r1 = java.lang.Integer.valueOf(r9)
            r0 = 2131755409(0x7f100191, float:1.9141696E38)
            goto L_0x01d6
        L_0x01fd:
            java.lang.Integer r1 = java.lang.Integer.valueOf(r9)
            r0 = 2131755408(0x7f100190, float:1.9141694E38)
            goto L_0x01d6
        L_0x0205:
            if (r3 == 0) goto L_0x0215
            int r0 = r3.intValue()
            if (r0 != r1) goto L_0x0215
            java.lang.Integer r1 = java.lang.Integer.valueOf(r8)
            r0 = 2131755132(0x7f10007c, float:1.9141135E38)
            goto L_0x01d6
        L_0x0215:
            java.lang.Integer r1 = java.lang.Integer.valueOf(r8)
            r0 = 2131755131(0x7f10007b, float:1.9141133E38)
            goto L_0x01d6
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.BaZ(java.lang.Integer):void");
    }

    public void Bal(ArrayList arrayList) {
        Intent A1Y2;
        this.A05.A0G(this.A1z);
        if (getIntent().getBooleanExtra("send", true) && (C36401kF.A0w(this.A0s.A02).size() > 1 || C36401kF.A0w(this.A0s.A02).contains(C177528dw.A00))) {
            Bvu(C36401kF.A0w(this.A0s.A02));
        }
        AnonymousClass653 r5 = this.A12;
        AnonymousClass00C.A0D(arrayList, 0);
        ArrayList A0J2 = C36321k7.A0J(arrayList);
        Iterator it = arrayList.iterator();
        while (it.hasNext()) {
            A0J2.add(AnonymousClass1GX.A0U((Uri) it.next()));
        }
        AnonymousClass3R6.A02(r5.A09, A0J2.toArray(new Uri[0]));
        this.A12.A00();
        Intent A0D2 = C36431kI.A0D();
        A0D2.putParcelableArrayListExtra("android.intent.extra.STREAM", arrayList);
        A0D2.putStringArrayListExtra("jids", AnonymousClass143.A07(C36401kF.A0w(this.A0s.A02)));
        this.A1e = -1;
        setResult(-1, A0D2);
        int intExtra = getIntent().getIntExtra("product_origin", -1);
        if (getIntent().getBooleanExtra("smb_send_product", false) && intExtra == 3) {
            this.A05.A06(R.string.f12nameremoved, 0);
        }
        if (getIntent().getBooleanExtra("start_home", false)) {
            A33(AnonymousClass190.A05(this), true);
            return;
        }
        AnonymousClass6VT r0 = this.A0s;
        if (!r0.A0D.equals(r0.A02.A04())) {
            int size = C36401kF.A0w(this.A0s.A02).size();
            if (size == 1) {
                if (AnonymousClass143.A0N(C36401kF.A0w(this.A0s.A02))) {
                    A1Y2 = AnonymousClass190.A07(this);
                }
                A1Y2 = C36441kJ.A0j().A1Y(this, (AnonymousClass11F) C36401kF.A0w(this.A0s.A02).get(0));
                AnonymousClass3M9.A01(A1Y2, "MediaComposerActivity:onMediaSent");
            } else {
                if (size != 1) {
                    if (size > 1) {
                        A1Y2 = AnonymousClass190.A05(this);
                    }
                }
                A1Y2 = C36441kJ.A0j().A1Y(this, (AnonymousClass11F) C36401kF.A0w(this.A0s.A02).get(0));
                AnonymousClass3M9.A01(A1Y2, "MediaComposerActivity:onMediaSent");
            }
            startActivity(A1Y2);
        }
        finish();
    }

    public void Be4(int i) {
        AnonymousClass3OM r1 = new AnonymousClass3OM(this);
        r1.A0Q = Integer.valueOf(i);
        r1.A0O = 2000;
        Intent A022 = AnonymousClass3OM.A02(r1, "com.whatsapp.contact.picker.AudienceSelectionContactPicker");
        this.A1F.A02(A022, AnonymousClass6VT.A01(this));
        startActivityForResult(A022, 2);
    }

    public void Bsc(Uri uri, long j, long j2) {
        AnonymousClass6QO A032 = this.A1r.A03(uri);
        Point point = new Point((int) j, (int) j2);
        synchronized (A032) {
            A032.A04 = point;
        }
    }

    /* JADX WARNING: Code restructure failed: missing block: B:16:0x00a8, code lost:
        if (r9 != 100) goto L_0x00aa;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public boolean dispatchTouchEvent(android.view.MotionEvent r17) {
        /*
            r16 = this;
            r5 = r16
            boolean r0 = r5.A1b
            if (r0 != 0) goto L_0x00f6
            X.5z8 r2 = r5.A1f
            com.whatsapp.gallerypicker.PhotoViewPager r9 = r5.A0i
            android.view.View r0 = r2.A06
            r7 = 0
            r3 = r17
            if (r0 == 0) goto L_0x0159
            int r1 = r3.getAction()
            r6 = 16777215(0xffffff, float:2.3509886E-38)
            r0 = 2
            r8 = 255(0xff, float:3.57E-43)
            r12 = 1
            r4 = 0
            if (r1 != r0) goto L_0x0122
            android.view.ViewGroup r11 = r2.A08
            r11.setVisibility(r7)
            android.view.ViewGroup r5 = r2.A07
            int[] r8 = r2.A0E
            r5.getLocationOnScreen(r8)
            float r0 = r3.getX()
            int r10 = (int) r0
            r0 = r8[r7]
            int r10 = r10 - r0
            float r0 = r2.A00
            int r0 = (int) r0
            int r10 = r10 - r0
            float r0 = r3.getY()
            int r1 = (int) r0
            r0 = r8[r12]
            int r1 = r1 - r0
            float r0 = r2.A01
            int r0 = (int) r0
            int r1 = r1 - r0
            r5.setPadding(r10, r1, r7, r7)
            android.view.View r10 = r2.A05
            int r1 = r11.getHeight()
            int r0 = r9.getHeight()
            int r1 = r1 - r0
            r10.setPadding(r7, r7, r7, r1)
            android.widget.TextView r1 = r2.A0A
            r1.getLocationOnScreen(r8)
            r0 = r8[r12]
            int r9 = X.C36431kI.A04(r1, r0)
            int r0 = r5.getHeight()
            int r0 = r0 - r9
            if (r0 <= 0) goto L_0x00aa
            float r8 = (float) r0
            float r3 = r3.getY()
            float r0 = (float) r9
            float r3 = r3 - r0
            float r3 = r8 - r3
            r0 = 1120403456(0x42c80000, float:100.0)
            float r3 = r3 * r0
            float r0 = X.C90524aI.A00(r3, r8, r0)
            int r9 = (int) r0
            if (r9 < 0) goto L_0x00aa
            r0 = 70
            r8 = 100
            if (r9 <= r0) goto L_0x00aa
            int r0 = r9 * 2
            int r0 = r0 / 3
            int r0 = r0 * 255
            int r0 = r0 / r8
            int r0 = r0 << 24
            r10.setBackgroundColor(r0)
            boolean r0 = r2.A0B
            if (r0 != 0) goto L_0x009d
            int r3 = r9 * 255
            int r3 = r3 / r8
            int r0 = r3 << 24
            r6 = r6 | r0
            r1.setTextColor(r6)
            android.graphics.drawable.Drawable r0 = r2.A03
            r0.setAlpha(r3)
        L_0x009d:
            r10.clearAnimation()
            android.os.Handler r3 = r2.A0C
            java.lang.Runnable r0 = r2.A0D
            r3.removeCallbacks(r0)
            r3 = 1
            if (r9 == r8) goto L_0x00ab
        L_0x00aa:
            r3 = 0
        L_0x00ab:
            r13 = 1056964608(0x3f000000, float:0.5)
            boolean r0 = r2.A0B
            if (r3 == 0) goto L_0x00f8
            if (r0 != 0) goto L_0x00f1
            r2.A0B = r12
            r0 = -65536(0xffffffffffff0000, float:NaN)
            r1.setTextColor(r0)
            android.graphics.drawable.Drawable r0 = r2.A02
            r1.setCompoundDrawablesWithIntrinsicBounds(r0, r4, r4, r4)
            float r9 = X.C36441kJ.A01(r5)
            float r9 = r9 * r13
            float r0 = X.C36441kJ.A01(r1)
            float r9 = r9 / r0
            r8 = 1065353216(0x3f800000, float:1.0)
            android.view.animation.ScaleAnimation r7 = new android.view.animation.ScaleAnimation
            r10 = 1065353216(0x3f800000, float:1.0)
            r14 = 1
            r15 = 1056964608(0x3f000000, float:0.5)
            r11 = r9
            r7.<init>(r8, r9, r10, r11, r12, r13, r14, r15)
            android.view.animation.BounceInterpolator r0 = new android.view.animation.BounceInterpolator
            r0.<init>()
            r7.setInterpolator(r0)
            r3 = 800(0x320, double:3.953E-321)
        L_0x00e0:
            r7.setDuration(r3)
            r7.setFillAfter(r12)
            r1.clearAnimation()
            r1.startAnimation(r7)
            android.widget.ImageView r0 = r2.A09
            r0.invalidate()
        L_0x00f1:
            android.view.View r0 = r2.A06
            r0.invalidate()
        L_0x00f6:
            r1 = 1
        L_0x00f7:
            return r1
        L_0x00f8:
            if (r0 == 0) goto L_0x00f1
            r2.A0B = r7
            r0 = -1
            r1.setTextColor(r0)
            android.graphics.drawable.Drawable r0 = r2.A03
            r1.setCompoundDrawablesWithIntrinsicBounds(r0, r4, r4, r4)
            float r8 = X.C36441kJ.A01(r5)
            float r8 = r8 * r13
            float r0 = X.C36441kJ.A01(r1)
            float r8 = r8 / r0
            r9 = 1065353216(0x3f800000, float:1.0)
            android.view.animation.ScaleAnimation r7 = new android.view.animation.ScaleAnimation
            r11 = 1065353216(0x3f800000, float:1.0)
            r14 = 1
            r15 = 1056964608(0x3f000000, float:0.5)
            r10 = r8
            r7.<init>(r8, r9, r10, r11, r12, r13, r14, r15)
            X.C90514aH.A1K(r7)
            r3 = 500(0x1f4, double:2.47E-321)
            goto L_0x00e0
        L_0x0122:
            int r0 = r3.getAction()
            if (r0 != r12) goto L_0x0161
            boolean r0 = r2.A0B
            if (r0 == 0) goto L_0x0161
            android.net.Uri r1 = r2.A04
            if (r1 == 0) goto L_0x0135
            com.whatsapp.mediacomposer.MediaComposerActivity r0 = r2.A0F
            A0L(r1, r0)
        L_0x0135:
            r2.A0B = r7
            r2.A04 = r4
            r2.A06 = r4
            android.view.ViewGroup r1 = r2.A08
            r0 = 8
            r1.setVisibility(r0)
            android.graphics.drawable.Drawable r1 = r2.A03
            r1.setAlpha(r8)
            android.widget.TextView r0 = r2.A0A
            r0.clearAnimation()
            r0.setTextColor(r6)
            r0.setCompoundDrawablesWithIntrinsicBounds(r1, r4, r4, r4)
            android.os.Handler r1 = r2.A0C
            java.lang.Runnable r0 = r2.A0D
            r1.removeCallbacks(r0)
        L_0x0159:
            boolean r0 = super.dispatchTouchEvent(r3)
            r1 = 0
            if (r0 == 0) goto L_0x00f7
            goto L_0x00f6
        L_0x0161:
            android.view.View r0 = r2.A06
            r0.invalidate()
            goto L_0x0135
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.dispatchTouchEvent(android.view.MotionEvent):boolean");
    }

    /* JADX WARNING: Code restructure failed: missing block: B:134:0x070f, code lost:
        if (r5 != null) goto L_0x0711;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:161:0x081a, code lost:
        if (r12 != 0) goto L_0x081c;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:32:0x022d, code lost:
        if (X.AnonymousClass143.A0L((java.util.Collection) r6.A02.A04()) != false) goto L_0x022f;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:93:0x04fc, code lost:
        r17 = r15.A03((android.net.Uri) X.C36391kE.A0t(X.AnonymousClass6VT.A03(r0)));
     */
    /* JADX WARNING: Removed duplicated region for block: B:127:0x06b9  */
    /* JADX WARNING: Removed duplicated region for block: B:133:0x06f7  */
    /* JADX WARNING: Removed duplicated region for block: B:137:0x071f  */
    /* JADX WARNING: Removed duplicated region for block: B:141:0x0753  */
    /* JADX WARNING: Removed duplicated region for block: B:146:0x0789  */
    /* JADX WARNING: Removed duplicated region for block: B:150:0x07c3  */
    /* JADX WARNING: Removed duplicated region for block: B:168:0x084f  */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public void onCreate(android.os.Bundle r42) {
        /*
            r41 = this;
            r0 = r41
            android.view.Window r2 = r0.getWindow()
            boolean r1 = X.AnonymousClass6YG.A01()
            if (r1 != 0) goto L_0x0011
            r1 = 16777216(0x1000000, float:2.3509887E-38)
            r2.addFlags(r1)
        L_0x0011:
            boolean r18 = X.AnonymousClass3U9.A00
            r6 = 1
            if (r18 == 0) goto L_0x00b7
            r1 = 12
            r2.requestFeature(r1)
            r1 = 13
            r2.requestFeature(r1)
            r2.setAllowEnterTransitionOverlap(r6)
            r2.setAllowReturnTransitionOverlap(r6)
            android.view.animation.AccelerateDecelerateInterpolator r3 = new android.view.animation.AccelerateDecelerateInterpolator
            r3.<init>()
            android.transition.ChangeBounds r8 = new android.transition.ChangeBounds
            r8.<init>()
            r8.setInterpolator(r3)
            android.transition.ChangeTransform r7 = new android.transition.ChangeTransform
            r7.<init>()
            r7.setInterpolator(r3)
            android.transition.ChangeImageTransform r1 = new android.transition.ChangeImageTransform
            r1.<init>()
            r1.setInterpolator(r3)
            android.transition.TransitionSet r5 = new android.transition.TransitionSet
            r5.<init>()
            r5.setInterpolator(r3)
            r3 = 300(0x12c, double:1.48E-321)
            r5.setDuration(r3)
            r5.addTransition(r8)
            r5.addTransition(r7)
            r5.addTransition(r1)
            r1 = 2131428587(0x7f0b04eb, float:1.8478823E38)
            r5.excludeTarget(r1, r6)
            r1 = 2131427558(0x7f0b00e6, float:1.8476736E38)
            r5.excludeTarget(r1, r6)
            r1 = 2131427559(0x7f0b00e7, float:1.8476738E38)
            r5.excludeTarget(r1, r6)
            r1 = 2131428584(0x7f0b04e8, float:1.8478817E38)
            r5.excludeTarget(r1, r6)
            r1 = 2131435168(0x7f0b1ea0, float:1.849217E38)
            r5.excludeTarget(r1, r6)
            r1 = 2131433826(0x7f0b1962, float:1.8489449E38)
            r5.excludeTarget(r1, r6)
            r2.setSharedElementEnterTransition(r5)
            android.transition.TransitionSet r1 = r5.clone()
            r2.setSharedElementReturnTransition(r1)
            X.4x9 r1 = new X.4x9
            r1.<init>(r0)
            r5.addListener(r1)
            android.transition.Fade r7 = new android.transition.Fade
            r7.<init>()
            android.transition.Fade r5 = new android.transition.Fade
            r5.<init>()
            r4 = 16908335(0x102002f, float:2.387736E-38)
            r7.excludeTarget(r4, r6)
            r3 = 16908336(0x1020030, float:2.3877364E-38)
            r7.excludeTarget(r3, r6)
            r1 = 2131430288(0x7f0b0b90, float:1.8482273E38)
            r7.excludeTarget(r1, r6)
            r5.excludeTarget(r4, r6)
            r5.excludeTarget(r3, r6)
            r2.setEnterTransition(r7)
            r2.setReturnTransition(r5)
        L_0x00b7:
            r3 = r42
            super.onCreate(r3)
            X.0yE r4 = r0.A0U
            X.3US r1 = com.whatsapp.RequestPermissionActivity.A0B
            boolean r1 = r1.A0J(r0, r4)
            if (r1 == 0) goto L_0x089e
            long r4 = java.lang.System.nanoTime()
            java.lang.Long r1 = java.lang.Long.valueOf(r4)
            r0.A1g = r1
            r1 = 2131890934(0x7f1212f6, float:1.9416574E38)
            r0.setTitle(r1)
            X.0wU r7 = r0.A04
            X.1MP r5 = r0.A0R
            java.util.Objects.requireNonNull(r5)
            r4 = 15
            X.1j6 r1 = new X.1j6
            r1.<init>(r5, r4)
            r7.Boy(r1)
            r1 = 0
            java.lang.String r7 = "media_quality_selection"
            r8 = 0
            if (r42 != 0) goto L_0x02d3
            android.content.Intent r5 = r0.getIntent()
            java.lang.String r4 = "android.intent.extra.STREAM"
            java.util.ArrayList r27 = r5.getParcelableArrayListExtra(r4)
            android.os.Bundle r5 = X.C36371kC.A0H(r0)
            if (r5 == 0) goto L_0x0107
            int r4 = r5.getInt(r7, r8)
            java.lang.Integer r4 = java.lang.Integer.valueOf(r4)
            r0.A1S = r4
        L_0x0107:
            r29 = -1
            r30 = -1
        L_0x010b:
            if (r27 == 0) goto L_0x089e
            boolean r4 = r27.isEmpty()
            if (r4 != 0) goto L_0x089e
            java.util.ArrayList r16 = X.AnonymousClass001.A0I()
            X.11F r7 = X.C36331k8.A0F(r0)
            if (r7 == 0) goto L_0x02c0
            r4 = r16
            r4.add(r7)
        L_0x0122:
            android.content.Intent r7 = r0.getIntent()
            java.lang.String r4 = "status_distribution"
            android.os.Parcelable r4 = r7.getParcelableExtra(r4)
            X.3XT r4 = (X.AnonymousClass3XT) r4
            if (r4 != 0) goto L_0x015f
            X.1Ua r4 = r0.A1Q
            boolean r4 = r4.A00()
            if (r4 == 0) goto L_0x02bd
            java.lang.Boolean r8 = java.lang.Boolean.TRUE
            X.1UM r7 = r0.A1P
            X.1US r4 = X.AnonymousClass1US.MEDIA_COMPOSER_ACTIVITY
            java.lang.Boolean r4 = r7.A01(r4)
            boolean r11 = r8.equals(r4)
        L_0x0146:
            X.16E r4 = r0.A0a
            java.util.ArrayList r8 = r4.A0A()
            X.16E r4 = r0.A0a
            java.util.ArrayList r9 = r4.A0B()
            X.16E r4 = r0.A0a
            int r10 = r4.A05()
            r12 = 0
            X.3XT r4 = new X.3XT
            r7 = r4
            r7.<init>(r8, r9, r10, r11, r12)
        L_0x015f:
            android.content.Intent r9 = r0.getIntent()
            java.lang.String r7 = "origin"
            r8 = 1
            int r19 = r9.getIntExtra(r7, r6)
            X.1Gn r12 = r0.A0m
            X.6Tg r15 = r0.A1r
            X.185 r11 = r0.A0L
            android.content.Intent r9 = r0.getIntent()
            java.lang.String r7 = "send"
            boolean r32 = r9.getBooleanExtra(r7, r6)
            android.content.Intent r9 = r0.getIntent()
            java.lang.String r7 = "smb_quick_reply"
            r6 = 0
            r9.getBooleanExtra(r7, r6)
            android.content.Intent r7 = r0.getIntent()
            java.lang.String r6 = "should_send_media"
            boolean r33 = r7.getBooleanExtra(r6, r8)
            android.content.Intent r8 = r0.getIntent()
            java.lang.String r7 = "should_hide_caption_view"
            r6 = 0
            boolean r34 = r8.getBooleanExtra(r7, r6)
            X.18y r10 = r0.A0N
            X.0yC r9 = r0.A0D
            android.content.Intent r8 = r0.getIntent()
            java.lang.String r7 = "show_delete_thumbnail_for_single_media"
            boolean r35 = r8.getBooleanExtra(r7, r6)
            android.content.Intent r8 = r0.getIntent()
            java.lang.String r7 = "set_result_when_last_media_deleted"
            boolean r36 = r8.getBooleanExtra(r7, r6)
            android.content.Intent r8 = r0.getIntent()
            java.lang.String r7 = "disable_converting_video_to_gif_option"
            boolean r37 = r8.getBooleanExtra(r7, r6)
            android.content.Intent r8 = r0.getIntent()
            java.lang.String r7 = "disable_tools_for_newsletter_forward"
            boolean r38 = r8.getBooleanExtra(r7, r6)
            X.6VT r6 = new X.6VT
            r23 = r4
            r24 = r9
            r25 = r15
            r26 = r12
            r28 = r16
            r31 = r19
            r20 = r6
            r21 = r11
            r22 = r10
            r20.<init>(r21, r22, r23, r24, r25, r26, r27, r28, r29, r30, r31, r32, r33, r34, r35, r36, r37, r38)
            r0.A0s = r6
            r7 = 35
            X.7t0 r8 = new X.7t0
            r8.<init>(r0, r7)
            X.00s r4 = r6.A07
            r4.A08(r0, r8)
            X.6VT r8 = r0.A0s
            r4 = 36
            X.7t0 r6 = new X.7t0
            r6.<init>(r0, r4)
            X.00s r4 = r8.A06
            r4.A08(r0, r6)
            X.653 r8 = r0.A12
            X.6VT r6 = r0.A0s
            android.content.Intent r9 = r0.getIntent()
            java.lang.String r10 = "smb_send_product"
            r4 = 0
            boolean r11 = r9.getBooleanExtra(r10, r4)
            X.AnonymousClass00C.A0D(r6, r4)
            X.0wg r9 = r8.A08
            X.0yb r4 = r8.A04
            int r9 = X.AnonymousClass1K2.A01(r4, r9)
            r4 = 2013(0x7dd, float:2.821E-42)
            if (r9 < r4) goto L_0x022f
            int r4 = r6.A01
            boolean r4 = X.C111075bh.A00(r4)
            if (r4 != 0) goto L_0x022f
            if (r11 != 0) goto L_0x022f
            X.00s r4 = r6.A02
            java.lang.Object r4 = r4.A04()
            java.util.Collection r4 = (java.util.Collection) r4
            boolean r6 = X.AnonymousClass143.A0L(r4)
            r4 = 1
            if (r6 == 0) goto L_0x0230
        L_0x022f:
            r4 = 0
        L_0x0230:
            r8.A01 = r4
            X.6VT r4 = r0.A0s
            int r4 = r4.A01
            boolean r4 = X.C111075bh.A00(r4)
            if (r4 == 0) goto L_0x0254
            X.04H r6 = X.C36441kJ.A0b(r0)
            java.lang.Class<com.whatsapp.mediacomposer.viewmodel.StickerComposerViewModel> r4 = com.whatsapp.mediacomposer.viewmodel.StickerComposerViewModel.class
            X.04R r4 = r6.A00(r4)
            com.whatsapp.mediacomposer.viewmodel.StickerComposerViewModel r4 = (com.whatsapp.mediacomposer.viewmodel.StickerComposerViewModel) r4
            X.00s r8 = r4.A01
            r6 = 38
            X.7t0 r4 = new X.7t0
            r4.<init>(r0, r6)
            r8.A08(r0, r4)
        L_0x0254:
            if (r5 == 0) goto L_0x0259
            r15.A05(r5)
        L_0x0259:
            android.content.Intent r5 = r0.getIntent()
            java.lang.String r4 = "first_caption"
            java.lang.String r11 = r5.getStringExtra(r4)
            android.content.Intent r5 = r0.getIntent()
            java.lang.String r4 = "android.intent.extra.TEXT"
            java.lang.String r9 = r5.getStringExtra(r4)
            r8 = 0
        L_0x026e:
            X.6VT r4 = r0.A0s
            X.00s r4 = r4.A04
            int r4 = X.C36401kF.A00(r4)
            if (r8 >= r4) goto L_0x0304
            java.util.List r4 = X.AnonymousClass6VT.A03(r0)
            java.lang.Object r6 = r4.get(r8)
            android.net.Uri r6 = (android.net.Uri) r6
            X.6QO r5 = r15.A03(r6)
            boolean r4 = android.text.TextUtils.isEmpty(r9)
            if (r4 != 0) goto L_0x028f
            r5.A0H(r9)
        L_0x028f:
            java.lang.String r4 = "caption"
            java.lang.String r4 = r6.getQueryParameter(r4)
            boolean r12 = android.text.TextUtils.isEmpty(r4)
            if (r12 != 0) goto L_0x029e
            r5.A0H(r4)
        L_0x029e:
            if (r8 != 0) goto L_0x02a5
            if (r11 == 0) goto L_0x02a5
            r5.A0H(r11)
        L_0x02a5:
            if (r1 != 0) goto L_0x02b4
            long r4 = (long) r8
        L_0x02a8:
            java.lang.Long r5 = java.lang.Long.valueOf(r4)
            java.util.HashMap r4 = r0.A1v
            r4.put(r6, r5)
            int r8 = r8 + 1
            goto L_0x026e
        L_0x02b4:
            java.lang.Object r4 = r1.get(r8)
            long r4 = X.C36431kI.A09(r4)
            goto L_0x02a8
        L_0x02bd:
            r11 = 0
            goto L_0x0146
        L_0x02c0:
            java.lang.Class<X.11F> r8 = X.AnonymousClass11F.class
            android.content.Intent r7 = r0.getIntent()
            java.lang.String r4 = "jids"
            java.util.ArrayList r7 = X.C36401kF.A0u(r7, r8, r4)
            r4 = r16
            r4.addAll(r7)
            goto L_0x0122
        L_0x02d3:
            java.lang.String r1 = "uris"
            java.util.ArrayList r27 = r3.getParcelableArrayList(r1)
            java.lang.String r1 = "ids"
            java.io.Serializable r1 = r3.getSerializable(r1)
            java.util.AbstractList r1 = (java.util.AbstractList) r1
            java.lang.String r4 = "position"
            int r29 = r3.getInt(r4)
            X.653 r5 = r0.A12
            java.lang.String r4 = "optimistic_started"
            boolean r4 = r3.getBoolean(r4)
            r5.A02 = r4
            java.lang.String r4 = "view_once"
            int r30 = r3.getInt(r4)
            int r4 = r3.getInt(r7)
            java.lang.Integer r4 = java.lang.Integer.valueOf(r4)
            r0.A1S = r4
            r5 = r3
            goto L_0x010b
        L_0x0304:
            X.0yC r4 = r0.A0D
            r1 = 5976(0x1758, float:8.374E-42)
            boolean r1 = r4.A0E(r1)
            r12 = 2
            if (r1 == 0) goto L_0x0847
            r1 = 2131625468(0x7f0e05fc, float:1.8878145E38)
            r0.setContentView((int) r1)
            r1 = 2131430199(0x7f0b0b37, float:1.8482092E38)
            android.view.View r1 = r0.findViewById(r1)
            androidx.coordinatorlayout.widget.CoordinatorLayout r1 = (androidx.coordinatorlayout.widget.CoordinatorLayout) r1
            r0.A06 = r1
            X.00y r4 = r0.A23()
            X.02U r4 = (X.AnonymousClass02U) r4
            int r1 = r4.A03
            if (r1 == r12) goto L_0x0334
            r4.A03 = r12
            boolean r1 = r4.A0Q
            if (r1 == 0) goto L_0x0334
            r1 = 1
            X.AnonymousClass02U.A0C(r4, r1)
        L_0x0334:
            X.1D1 r4 = r0.A0p
            boolean r1 = A0u(r0)
            boolean r1 = r4.A04(r1)
            if (r1 != 0) goto L_0x0348
            X.1E2 r1 = r0.A0r
            boolean r1 = r1.A00()
            if (r1 == 0) goto L_0x037c
        L_0x0348:
            X.6VT r1 = r0.A0s
            int r1 = r1.A01
            boolean r1 = X.C111075bh.A00(r1)
            if (r1 != 0) goto L_0x037c
            boolean r1 = A0u(r0)
            if (r1 != 0) goto L_0x037c
            java.util.Collection r1 = X.AnonymousClass6VT.A02(r0)
            boolean r1 = X.AnonymousClass143.A0L(r1)
            if (r1 != 0) goto L_0x037c
            X.0yC r4 = r0.A0D
            r1 = 7589(0x1da5, float:1.0634E-41)
            boolean r1 = X.AnonymousClass1Ax.A03(r4, r1)
            if (r1 == 0) goto L_0x037c
            android.content.SharedPreferences r4 = X.C36331k8.A06(r0)
            java.lang.String r1 = "original_media_quality"
            int r1 = X.C36371kC.A01(r4, r1)
            java.lang.Integer r1 = java.lang.Integer.valueOf(r1)
            r0.A1S = r1
        L_0x037c:
            X.6VT r8 = r0.A0s
            java.lang.Integer r6 = r0.A1S
            X.0yC r4 = r8.A0A
            r1 = 8033(0x1f61, float:1.1257E-41)
            boolean r1 = r4.A0E(r1)
            if (r1 == 0) goto L_0x0396
            X.6BX r1 = r8.A00
            if (r1 != 0) goto L_0x083c
            r1 = 0
            X.6BX r5 = new X.6BX
            r5.<init>(r1, r6, r1)
        L_0x0394:
            r8.A00 = r5
        L_0x0396:
            android.view.View r4 = r0.A00
            r1 = 2131428146(0x7f0b0332, float:1.8477928E38)
            android.view.View r5 = X.C012005e.A02(r4, r1)
            com.whatsapp.mediacomposer.bottombar.BottomBarView r5 = (com.whatsapp.mediacomposer.bottombar.BottomBarView) r5
            X.6VT r1 = r0.A0s
            r9 = 37
            X.7t0 r4 = new X.7t0
            r4.<init>(r0, r9)
            X.00s r1 = r1.A02
            r1.A08(r0, r4)
            X.6VT r6 = r0.A0s
            r1 = 33
            X.7t0 r4 = new X.7t0
            r4.<init>(r0, r1)
            X.00s r1 = r6.A05
            r1.A08(r0, r4)
            android.view.LayoutInflater r8 = android.view.LayoutInflater.from(r0)
            r6 = 2131626375(0x7f0e0987, float:1.8879984E38)
            r1 = 2131432881(0x7f0b15b1, float:1.8487532E38)
            android.view.View r4 = r0.findViewById(r1)
            android.view.ViewGroup r4 = (android.view.ViewGroup) r4
            r1 = 1
            android.view.View r4 = r8.inflate(r6, r4, r1)
            r1 = 2131434733(0x7f0b1ced, float:1.8491288E38)
            android.view.View r13 = r4.findViewById(r1)
            com.whatsapp.mediacomposer.doodle.titlebar.TitleBarView r13 = (com.whatsapp.mediacomposer.doodle.titlebar.TitleBarView) r13
            androidx.coordinatorlayout.widget.CoordinatorLayout r11 = r0.A06
            X.5mD r8 = new X.5mD
            r8.<init>(r0)
            X.6VT r6 = r0.A0s
            X.66x r4 = r0.A1O
            X.6Fh r1 = new X.6Fh
            r23 = r8
            r24 = r13
            r25 = r4
            r20 = r1
            r21 = r11
            r22 = r6
            r20.<init>(r21, r22, r23, r24, r25)
            r0.A10 = r1
            X.6VT r1 = r0.A0s
            int r1 = r1.A01
            if (r1 != r7) goto L_0x0422
            X.1Gn r4 = r0.A0m
            java.util.List r1 = X.AnonymousClass6VT.A03(r0)
            java.lang.Object r1 = X.C36391kE.A0t(r1)
            android.net.Uri r1 = (android.net.Uri) r1
            X.6QO r1 = r15.A03(r1)
            int r4 = X.AnonymousClass6QO.A00(r1, r4)
            r1 = 13
            if (r4 == r1) goto L_0x041a
            r1 = 3
            if (r4 != r1) goto L_0x0422
        L_0x041a:
            X.6Fh r1 = r0.A10
            r4 = 4
            com.whatsapp.mediacomposer.doodle.titlebar.TitleBarView r1 = r1.A0I
            r1.setMediaToolsVisibility(r4)
        L_0x0422:
            X.0yC r1 = r0.A0D
            r4 = 2614(0xa36, float:3.663E-42)
            int r1 = r1.A07(r4)
            r0.A1d = r1
            X.16L r13 = r0.A0I
            X.0yb r11 = r0.A08
            android.os.Handler r8 = r0.A1y
            java.lang.String r6 = "media-composer"
            X.3K8 r1 = new X.3K8
            r1.<init>(r8, r13, r11, r6)
            r0.A0h = r1
            X.5z8 r1 = new X.5z8
            r1.<init>(r0, r0)
            r0.A1f = r1
            r1 = 1024(0x400, float:1.435E-42)
            r2.addFlags(r1)
            X.0yb r6 = r0.A08
            r1 = 2131431487(0x7f0b103f, float:1.8484705E38)
            android.view.View r1 = r0.findViewById(r1)
            X.AnonymousClass6YG.A00(r1, r2, r6)
            r6 = 1284(0x504, float:1.799E-42)
            android.view.View r1 = r2.getDecorView()
            r1.setSystemUiVisibility(r6)
            r1 = 2131432881(0x7f0b15b1, float:1.8487532E38)
            android.view.View r11 = r0.findViewById(r1)
            r0.A02 = r11
            int r6 = r11.getPaddingBottom()
            r1 = 0
            r11.setPadding(r1, r1, r1, r6)
            r1 = 67108864(0x4000000, float:1.5046328E-36)
            r2.addFlags(r1)
            X.C24801Dv.A04(r2)
            r1 = 2131432883(0x7f0b15b3, float:1.8487536E38)
            android.view.View r1 = r0.findViewById(r1)
            android.widget.FrameLayout r1 = (android.widget.FrameLayout) r1
            r0.A04 = r1
            android.content.Intent r6 = r0.getIntent()
            java.lang.String r1 = "preview_top_margin"
            r14 = -1
            int r1 = r6.getIntExtra(r1, r14)
            r0.A00 = r1
            android.content.Intent r6 = r0.getIntent()
            java.lang.String r1 = "preview_bottom_margin"
            int r1 = r6.getIntExtra(r1, r14)
            r0.A1c = r1
            android.view.View r6 = r0.A02
            r1 = 0
            r6.setFitsSystemWindows(r1)
            android.view.View r1 = r0.A02
            r1.invalidate()
            r0.A0J()
            r1 = 2131432311(0x7f0b1377, float:1.8486376E38)
            android.view.View r6 = r0.findViewById(r1)
            com.whatsapp.gallerypicker.PhotoViewPager r6 = (com.whatsapp.gallerypicker.PhotoViewPager) r6
            r0.A0i = r6
            float r11 = X.C36341k9.A00(r0)
            r1 = 1094713344(0x41400000, float:12.0)
            float r11 = r11 * r1
            int r1 = (int) r11
            r6.setPageMargin(r1)
            com.whatsapp.gallerypicker.PhotoViewPager r6 = r0.A0i
            r13 = 0
            r1 = 0
            r6.A0L(r1, r13)
            com.whatsapp.gallerypicker.PhotoViewPager r11 = r0.A0i
            X.6uR r1 = new X.6uR
            r1.<init>(r0)
            r11.A00 = r1
            r1 = 0
            X.7qA r6 = new X.7qA
            r6.<init>(r0, r13)
            r11.A0B = r6
            r11.setFocusable(r13)
            r6 = 2131432885(0x7f0b15b5, float:1.848754E38)
            android.widget.ImageView r6 = X.C36411kG.A0Q(r0, r6)
            r11 = 2131432886(0x7f0b15b6, float:1.8487542E38)
            android.view.View r11 = r0.findViewById(r11)
            r0.A03 = r11
            android.content.Intent r13 = r0.getIntent()
            java.lang.String r11 = "product_origin"
            int r13 = r13.getIntExtra(r11, r14)
            android.content.Intent r11 = r0.getIntent()
            boolean r10 = r11.getBooleanExtra(r10, r1)
            if (r10 == 0) goto L_0x0538
            java.util.List r10 = X.AnonymousClass6VT.A03(r0)
            java.lang.Object r10 = X.C36391kE.A0t(r10)
            android.net.Uri r10 = (android.net.Uri) r10
            X.6QO r17 = r15.A03(r10)
            java.lang.String r10 = r17.A0A()
            if (r10 == 0) goto L_0x0538
            android.text.SpannableStringBuilder r11 = X.C36441kJ.A0P(r10)
            X.1Sj r10 = r0.A14
            r20 = r10
            r23 = 0
            X.1YL r14 = r0.A13
            java.lang.String r10 = r17.A0C()
            java.util.List r24 = r14.A00(r10)
            r10 = 1
            r25 = 1
            r21 = r0
            r22 = r11
            r20.A04(r21, r22, r23, r24, r25)
            X.6vv r14 = r0.A0u
            r14.A02(r11, r10)
            if (r13 != r12) goto L_0x0538
            A0k(r0)
        L_0x0538:
            r10 = 2131428587(0x7f0b04eb, float:1.8478823E38)
            android.view.View r13 = X.C012005e.A02(r5, r10)
            com.whatsapp.mediacomposer.bottombar.caption.CaptionView r13 = (com.whatsapp.mediacomposer.bottombar.caption.CaptionView) r13
            X.12q r14 = r0.A0Y
            X.1H2 r12 = r0.A0C
            X.0yb r11 = r0.A08
            X.0wg r10 = r0.A1B
            X.64H r35 = new X.64H
            r36 = r11
            r37 = r14
            r38 = r12
            r39 = r13
            r40 = r10
            r35.<init>(r36, r37, r38, r39, r40)
            X.1Sf r10 = r0.A1G
            boolean r10 = r10.A00()
            if (r10 == 0) goto L_0x082b
            r10 = 2131431527(0x7f0b1067, float:1.8484786E38)
            android.view.View r12 = X.C012005e.A02(r5, r10)
            android.view.ViewStub r12 = (android.view.ViewStub) r12
            X.3G2 r11 = r0.A0x
            X.005 r10 = r0.A1t
            java.lang.Object r10 = r10.get()
            X.2na r10 = (X.C51292na) r10
            X.7lN r10 = r11.A01(r12, r10)
        L_0x0577:
            r0.A0w = r10
            r10 = 2131430287(0x7f0b0b8f, float:1.848227E38)
            android.view.View r10 = X.C012005e.A02(r5, r10)
            com.whatsapp.mediacomposer.bottombar.filterswipe.FilterSwipeView r10 = (com.whatsapp.mediacomposer.bottombar.filterswipe.FilterSwipeView) r10
            X.5qU r12 = new X.5qU
            r12.<init>(r10)
            r10 = 2131434669(0x7f0b1cad, float:1.8491158E38)
            androidx.recyclerview.widget.RecyclerView r21 = X.C90504aG.A0J(r5, r10)
            com.whatsapp.gallerypicker.PhotoViewPager r10 = r0.A0i
            r28 = r10
            X.1H2 r10 = r0.A0C
            r25 = r10
            X.1GX r10 = r0.A1N
            r33 = r10
            X.1Gn r10 = r0.A0m
            r29 = r10
            X.5z8 r10 = r0.A1f
            r31 = r10
            X.3K8 r10 = r0.A0h
            r27 = r10
            X.0ts r10 = r0.A0V
            r20 = r10
            X.6VT r10 = r0.A0s
            r17 = r10
            java.util.HashSet r14 = r0.A1w
            X.16L r10 = r0.A0I
            X.1SZ r22 = r10.A00()
            X.1HA r13 = r0.A1J
            X.54s r10 = r0.A0b
            X.6vx r11 = new X.6vx
            r23 = r20
            r24 = r10
            r26 = r15
            r30 = r17
            r32 = r13
            r34 = r14
            r20 = r11
            r20.<init>(r21, r22, r23, r24, r25, r26, r27, r28, r29, r30, r31, r32, r33, r34)
            X.6VT r10 = r0.A0s
            int r10 = r10.A01
            boolean r10 = X.C111075bh.A00(r10)
            if (r10 != 0) goto L_0x05df
            X.4mf r13 = r11.A09
            r10 = 1
            r13.A00 = r10
            r13.A06()
        L_0x05df:
            r10 = 2131433826(0x7f0b1962, float:1.8489449E38)
            android.view.View r14 = X.C012005e.A02(r5, r10)
            com.whatsapp.WaImageButton r14 = (com.whatsapp.WaImageButton) r14
            X.0ts r13 = r0.A0V
            X.6BW r10 = new X.6BW
            r10.<init>(r14, r13)
            X.6VT r13 = r0.A0s
            r17 = r13
            X.7lN r14 = r0.A0w
            X.6vv r13 = new X.6vv
            r34 = r5
            r36 = r12
            r37 = r14
            r38 = r10
            r39 = r11
            r32 = r13
            r33 = r17
            r32.<init>(r33, r34, r35, r36, r37, r38, r39)
            r0.A0u = r13
            X.3T1 r5 = r0.A0G()
            r12 = 1
            if (r5 != 0) goto L_0x0828
            java.util.Collection r5 = X.AnonymousClass6VT.A02(r0)
            boolean r5 = X.AnonymousClass143.A0L(r5)
            if (r5 != 0) goto L_0x0828
        L_0x061b:
            r13.A00 = r0
            r13.A01 = r0
            X.64H r5 = r13.A03
            com.whatsapp.mediacomposer.bottombar.caption.CaptionView r11 = r5.A03
            r11.setCaptionButtonsListener(r13)
            com.whatsapp.mentions.MentionableEntry r10 = r11.A0E
            r5 = 17
            X.C48902iF.A00(r10, r11, r13, r5)
            X.6vx r5 = r13.A07
            r5.A02 = r13
            r5.A03 = r0
            X.6BW r5 = r13.A06
            com.whatsapp.WaImageButton r10 = r5.A01
            r5 = 32
            X.C48752hz.A00(r10, r13, r5)
            com.whatsapp.mediacomposer.bottombar.BottomBarView r11 = r13.A02
            r10 = 15
            X.2iF r5 = new X.2iF
            r5.<init>(r13, r0, r10)
            r11.setAddStandaloneButtonClick(r5)
            if (r12 == 0) goto L_0x064f
            X.7lN r5 = r13.A05
            r5.Bru(r13)
        L_0x064f:
            X.3T1 r5 = r0.A0G()
            if (r5 != 0) goto L_0x081f
            java.util.Collection r5 = X.AnonymousClass6VT.A02(r0)
            boolean r5 = X.AnonymousClass143.A0L(r5)
            if (r5 != 0) goto L_0x081f
        L_0x065f:
            A0n(r0)
            X.6VT r5 = r0.A0s
            java.util.List r5 = r5.A0D
            boolean r5 = X.AnonymousClass143.A0L(r5)
            if (r5 == 0) goto L_0x07e1
            X.0yC r10 = r0.A0D
            r5 = 5643(0x160b, float:7.908E-42)
            boolean r5 = r10.A0E(r5)
            if (r5 != 0) goto L_0x07e1
        L_0x0676:
            r5 = 0
        L_0x0677:
            r0.A1h = r5
            X.6vv r4 = r0.A0u
            X.64H r4 = r4.A03
            com.whatsapp.mediacomposer.bottombar.caption.CaptionView r4 = r4.A03
            r4.setAddButtonActivated(r5)
            android.content.Intent r11 = r0.getIntent()
            java.lang.String r10 = "quoted_message_row_id"
            r4 = 0
            long r11 = r11.getLongExtra(r10, r4)
            int r10 = (r11 > r4 ? 1 : (r11 == r4 ? 0 : -1))
            if (r10 != 0) goto L_0x0698
            boolean r4 = r0.A0t()
            if (r4 == 0) goto L_0x06aa
        L_0x0698:
            X.6vv r4 = r0.A0u
            X.64H r4 = r4.A03
            com.whatsapp.mediacomposer.bottombar.caption.CaptionView r10 = r4.A03
            com.whatsapp.WaImageButton r5 = r10.A0C
            r4 = 8
            r5.setVisibility(r4)
            android.view.View r4 = r10.A07
            r4.setVisibility(r1)
        L_0x06aa:
            X.6vv r5 = r0.A0u
            X.6VT r4 = r0.A0s
            boolean r4 = r4.A0C()
            r5.A06(r4)
            r4 = r19
            if (r4 != r9) goto L_0x07c3
            X.6vv r4 = r0.A0u
            X.64H r4 = r4.A03
            com.whatsapp.mediacomposer.bottombar.caption.CaptionView r5 = r4.A03
            r4 = 4
            r5.setVisibility(r4)
            X.6vv r4 = r0.A0u
            com.whatsapp.mediacomposer.bottombar.BottomBarView r4 = r4.A02
            r4.setAddStandaloneButtonVisibility(r1)
        L_0x06ca:
            com.whatsapp.gallerypicker.PhotoViewPager r7 = r0.A0i
            r4 = 1
            X.7sD r5 = new X.7sD
            r5.<init>(r0, r4)
            X.C011004s.A07(r7, r5)
            android.net.Uri r10 = r0.B8e()
            if (r18 == 0) goto L_0x0733
            if (r10 == 0) goto L_0x0733
            X.16L r5 = r0.A0I
            X.1SZ r9 = r5.A02()
            java.lang.StringBuilder r7 = X.C36381kD.A11(r10)
            java.lang.String r5 = "-media_view"
            java.lang.String r5 = X.AnonymousClass000.A0q(r5, r7)
            java.lang.Object r5 = r9.A09(r5)
            android.graphics.Bitmap r5 = (android.graphics.Bitmap) r5
            r0.A01 = r5
            if (r5 != 0) goto L_0x0711
            X.16L r5 = r0.A0I
            X.1SZ r9 = r5.A02()
            java.lang.StringBuilder r7 = X.C36381kD.A11(r10)
            java.lang.String r5 = "-gallery_thumb"
            java.lang.String r5 = X.AnonymousClass000.A0q(r5, r7)
            java.lang.Object r5 = r9.A09(r5)
            android.graphics.Bitmap r5 = (android.graphics.Bitmap) r5
            r0.A01 = r5
            if (r5 == 0) goto L_0x0733
        L_0x0711:
            java.lang.String r5 = r10.toString()
            X.C011004s.A08(r6, r5)
            android.graphics.Bitmap r5 = r0.A01
            r6.setImageBitmap(r5)
            if (r42 != 0) goto L_0x0724
            android.view.View r3 = r0.A03
            r3.setVisibility(r1)
        L_0x0724:
            r0.A1p()
            r3 = 43
            X.3vA r5 = new X.3vA
            r5.<init>(r0, r2, r3)
            r2 = 2000(0x7d0, double:9.88E-321)
            r8.postDelayed(r5, r2)
        L_0x0733:
            android.content.Intent r3 = r0.getIntent()
            java.lang.String r2 = "scan_for_qr"
            boolean r2 = r3.getBooleanExtra(r2, r1)
            r0.A1a = r2
            X.6vv r6 = r0.A0u
            X.6VT r2 = r0.A0s
            boolean r5 = r2.A0C()
            com.whatsapp.mediacomposer.bottombar.BottomBarView r3 = r6.A02
            r2 = 4
            r3.setVisibility(r2)
            X.6vx r2 = r6.A07
            r3 = 8
            if (r5 == 0) goto L_0x0754
            r3 = 4
        L_0x0754:
            androidx.recyclerview.widget.RecyclerView r2 = r2.A05
            r2.setVisibility(r3)
            r2 = 2131433000(0x7f0b1628, float:1.8487773E38)
            X.C36341k9.A13(r0, r2, r1)
            X.0wU r6 = r0.A04
            X.0yC r9 = r0.A0D
            X.1GX r5 = r0.A1N
            X.1Gn r3 = r0.A0m
            X.0wg r2 = r0.A1B
            X.0yb r8 = r0.A08
            X.6LY r7 = new X.6LY
            r10 = r15
            r11 = r3
            r12 = r2
            r13 = r5
            r14 = r6
            r7.<init>(r8, r9, r10, r11, r12, r13, r14)
            X.6VT r2 = r0.A0s
            X.00s r2 = r2.A04
            int r2 = X.C36401kF.A00(r2)
            if (r2 <= r4) goto L_0x084f
            X.0yC r3 = r0.A0D
            r2 = 7394(0x1ce2, float:1.0361E-41)
            boolean r2 = r3.A0E(r2)
            if (r2 == 0) goto L_0x084f
            java.util.List r3 = X.AnonymousClass6VT.A03(r0)
            X.AnonymousClass00C.A0D(r3, r1)
            X.1Rs r12 = X.C36441kJ.A0t()
            X.5tc r10 = new X.5tc
            r10.<init>(r7)
            X.0fE r14 = new X.0fE
            r14.<init>()
            int r2 = r3.size()
            r14.element = r2
            java.util.Iterator r3 = r3.iterator()
        L_0x07a8:
            boolean r2 = r3.hasNext()
            if (r2 == 0) goto L_0x0863
            java.lang.Object r9 = r3.next()
            android.net.Uri r9 = (android.net.Uri) r9
            androidx.lifecycle.LifecycleCoroutineScopeImpl r2 = X.C33311f5.A00(r0)
            r13 = 0
            com.whatsapp.mediacomposer.MediaFilesLoader$loadMediaFilesAsync$1$1 r8 = new com.whatsapp.mediacomposer.MediaFilesLoader$loadMediaFilesAsync$1$1
            r11 = r7
            r8.<init>(r9, r10, r11, r12, r13, r14)
            X.C36331k8.A1T(r8, r2)
            goto L_0x07a8
        L_0x07c3:
            if (r4 != r7) goto L_0x07cf
            X.6vv r4 = r0.A0u
            X.64H r4 = r4.A03
            com.whatsapp.mediacomposer.bottombar.caption.CaptionView r5 = r4.A03
            r4 = 4
            r5.setVisibility(r4)
        L_0x07cf:
            X.6VT r4 = r0.A0s
            boolean r4 = r4.A0G
            if (r4 == 0) goto L_0x06ca
            X.6vv r4 = r0.A0u
            X.64H r4 = r4.A03
            com.whatsapp.mediacomposer.bottombar.caption.CaptionView r5 = r4.A03
            r4 = 4
            r5.setVisibility(r4)
            goto L_0x06ca
        L_0x07e1:
            android.content.Intent r11 = r0.getIntent()
            int r10 = r0.A1d
            java.lang.String r5 = "max_items"
            int r12 = r11.getIntExtra(r5, r10)
            android.content.Intent r10 = r0.getIntent()
            java.lang.String r5 = "skip_max_items_new_limit"
            boolean r5 = r10.getBooleanExtra(r5, r1)
            if (r5 != 0) goto L_0x081a
            if (r12 != 0) goto L_0x081c
            boolean r5 = r0.A1m
            if (r5 != 0) goto L_0x0676
            X.0yC r5 = r0.A0D
            r11 = 2693(0xa85, float:3.774E-42)
            int r10 = r5.A07(r11)
            X.0yC r5 = r0.A0D
            int r4 = r5.A07(r4)
            int r10 = r10 - r4
            int r12 = r12 + r10
            X.0yC r4 = r0.A0D
            int r4 = r4.A07(r11)
            r0.A1d = r4
            r4 = 1
            r0.A1m = r4
        L_0x081a:
            if (r12 == 0) goto L_0x0676
        L_0x081c:
            r5 = 1
            goto L_0x0677
        L_0x081f:
            X.6vv r5 = r0.A0u
            X.7lN r5 = r5.A05
            r5.B5T()
            goto L_0x065f
        L_0x0828:
            r12 = 0
            goto L_0x061b
        L_0x082b:
            X.3G2 r11 = r0.A0x
            r10 = 2131431525(0x7f0b1065, float:1.8484782E38)
            android.view.View r10 = X.C012005e.A02(r5, r10)
            com.whatsapp.mediacomposer.bottombar.recipients.DefaultRecipientsView r10 = (com.whatsapp.mediacomposer.bottombar.recipients.DefaultRecipientsView) r10
            X.3nW r10 = r11.A00(r10)
            goto L_0x0577
        L_0x083c:
            java.lang.Long r4 = r1.A02
            java.lang.Boolean r1 = r1.A00
            X.6BX r5 = new X.6BX
            r5.<init>(r1, r6, r4)
            goto L_0x0394
        L_0x0847:
            r1 = 2131625465(0x7f0e05f9, float:1.8878139E38)
            r0.setContentView((int) r1)
            goto L_0x0334
        L_0x084f:
            X.6VT r2 = r0.A0s
            X.00s r2 = r2.A04
            java.lang.Object r3 = r2.A04()
            X.AnonymousClass00C.A0D(r3, r1)
            X.1Rs r12 = X.C36441kJ.A0t()
            X.0wU r2 = r7.A00
            X.AnonymousClass736.A00(r2, r7, r3, r12, r4)
        L_0x0863:
            r0.A07 = r12
            r3 = 34
            X.7t0 r2 = new X.7t0
            r2.<init>(r0, r3)
            r12.A08(r0, r2)
            X.6VT r2 = r0.A0s
            X.00s r2 = r2.A07
            r2.A04()
            A0n(r0)
            int r2 = r16.size()
            if (r2 > r4) goto L_0x088f
            int r2 = r16.size()
            if (r2 != r4) goto L_0x0896
            r2 = r16
            java.lang.Object r1 = r2.get(r1)
            boolean r1 = r1 instanceof com.whatsapp.jid.UserJid
            if (r1 != 0) goto L_0x0896
        L_0x088f:
            X.1XS r2 = r0.A15
            r1 = r16
            r2.A01(r1)
        L_0x0896:
            android.view.View r2 = r0.A00
            X.17Y r1 = r0.A05
            r0.A2O(r2, r1)
            return
        L_0x089e:
            r0.finish()
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.onCreate(android.os.Bundle):void");
    }

    public void onDestroy() {
        this.A1q.removeCallbacksAndMessages((Object) null);
        C129126Fh r0 = this.A10;
        if (r0 != null) {
            TitleBarView titleBarView = r0.A0I;
            Runnable runnable = titleBarView.A0V;
            if (runnable != null) {
                titleBarView.getWaWorkers().Bnx(runnable);
            }
            titleBarView.A0V = null;
        }
        if (this.A0i != null) {
            for (int i = 0; i < this.A0i.getChildCount(); i++) {
                View childAt = this.A0i.getChildAt(i);
                if (childAt instanceof FrameLayout) {
                    int i2 = 0;
                    while (true) {
                        ViewGroup viewGroup = (ViewGroup) childAt;
                        if (i2 >= viewGroup.getChildCount()) {
                            break;
                        }
                        View childAt2 = viewGroup.getChildAt(i2);
                        if (childAt2 instanceof PhotoView) {
                            ((PhotoView) childAt2).A07();
                        }
                        i2++;
                    }
                }
            }
        }
        if (this.A1e == -1 || A0t()) {
            this.A0I.A02().A02.A07(-1);
        }
        C19770wU r3 = this.A04;
        AnonymousClass1MP r2 = this.A0R;
        Objects.requireNonNull(r2);
        r3.Boy(new C35691j6(r2, 15));
        super.onDestroy();
        C50232kQ r1 = this.A1C;
        if (r1 != null) {
            r1.A0D(true);
            this.A1C = null;
        }
        C146636vv r02 = this.A0u;
        if (r02 != null) {
            C96024mf r4 = r02.A07.A09;
            Set<C145706uO> set = r4.A0G;
            for (C145706uO r12 : set) {
                r4.A08.A01(r12);
                if (r12 != null) {
                    r12.A0A.set(true);
                }
            }
            set.clear();
            this.A0u = null;
        }
        AnonymousClass3K8 r03 = this.A0h;
        if (r03 != null) {
            r03.A00();
            this.A0h = null;
        }
        AnonymousClass6vC r13 = this.A0z;
        synchronized (r13) {
            r13.A01.clear();
        }
        this.A05.A0G(this.A1z);
    }

    public MediaComposerActivity(int i) {
        this.A1l = false;
        C163027pX.A00(this, 36);
    }

    public static long A01(AnonymousClass6QO r4) {
        if (r4.A09() == null || r4.A09().intValue() != 3) {
            return -1;
        }
        Point A032 = r4.A03();
        if (A032 != null) {
            return (long) (A032.y - A032.x);
        }
        C1273567y A052 = r4.A05();
        if (A052 != null) {
            return A052.A03;
        }
        return -1;
    }

    private AnonymousClass3T1 A0G() {
        long longExtra = getIntent().getLongExtra("quoted_message_row_id", 0);
        AnonymousClass147 A002 = C65533Sl.A00(getIntent(), "quoted_group_jid");
        if (longExtra > 0) {
            return C36421kH.A0R(this.A1K, longExtra);
        }
        if (A002 != null) {
            return C55162uB.A00(A002, (String) null, (String) null, C19970wo.A00(this.A07));
        }
        return null;
    }

    private void A0H() {
        for (AnonymousClass02E r1 : A2m()) {
            if (r1 instanceof MediaComposerFragment) {
                A0q(this, (MediaComposerFragment) r1);
            }
        }
    }

    public static void A0h(MediaComposerActivity mediaComposerActivity) {
        for (AnonymousClass02E r2 : mediaComposerActivity.A2m()) {
            if (r2 instanceof ImageComposerFragment) {
                ImageComposerFragment imageComposerFragment = (ImageComposerFragment) r2;
                mediaComposerActivity.A1r.A03(imageComposerFragment.A00).A0E(imageComposerFragment.A05.A01);
            }
        }
    }

    /* JADX WARNING: Code restructure failed: missing block: B:13:0x003c, code lost:
        if (r10.A0s() == false) goto L_0x003e;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:7:0x0028, code lost:
        if (X.AnonymousClass143.A0L(X.AnonymousClass6VT.A02(r10)) != false) goto L_0x002a;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public static void A0l(com.whatsapp.mediacomposer.MediaComposerActivity r10) {
        /*
            com.whatsapp.mediacomposer.MediaComposerFragment r9 = A0F(r10)
            X.1D1 r1 = r10.A0p
            boolean r0 = A0u(r10)
            boolean r0 = r1.A04(r0)
            r8 = 1
            if (r0 != 0) goto L_0x0019
            X.1E2 r0 = r10.A0r
            boolean r0 = r0.A00()
            if (r0 == 0) goto L_0x002a
        L_0x0019:
            boolean r0 = r10.A0s()
            if (r0 == 0) goto L_0x002a
            java.util.Collection r0 = X.AnonymousClass6VT.A02(r10)
            boolean r0 = X.AnonymousClass143.A0L(r0)
            r7 = 1
            if (r0 == 0) goto L_0x002b
        L_0x002a:
            r7 = 0
        L_0x002b:
            if (r9 == 0) goto L_0x003e
            android.net.Uri r1 = r9.A00
            java.util.HashSet r0 = r10.A1x
            boolean r0 = r0.contains(r1)
            if (r0 == 0) goto L_0x003e
            boolean r0 = r10.A0s()
            r6 = 1
            if (r0 != 0) goto L_0x003f
        L_0x003e:
            r6 = 0
        L_0x003f:
            X.6Fh r0 = r10.A10
            int r1 = X.C36381kD.A09(r7)
            com.whatsapp.mediacomposer.doodle.titlebar.TitleBarView r0 = r0.A0I
            r0.setMediaQualityVisibility(r1)
            X.6Fh r0 = r10.A10
            com.whatsapp.mediacomposer.doodle.titlebar.TitleBarView r5 = r0.A0I
            r5.A0X = r6
            android.widget.ImageView r1 = r5.A06
            if (r1 == 0) goto L_0x005e
            r0 = 1053609165(0x3ecccccd, float:0.4)
            if (r6 == 0) goto L_0x005b
            r0 = 1065353216(0x3f800000, float:1.0)
        L_0x005b:
            r1.setAlpha(r0)
        L_0x005e:
            X.0yC r1 = r5.getAbProps()
            r0 = 6378(0x18ea, float:8.937E-42)
            boolean r0 = r1.A0E(r0)
            if (r0 != 0) goto L_0x009f
            java.lang.Runnable r1 = r5.A0V
            if (r1 == 0) goto L_0x0075
            X.0wU r0 = r5.getWaWorkers()
            r0.Bnx(r1)
        L_0x0075:
            r0 = 0
            r5.A0V = r0
            if (r6 == 0) goto L_0x00bc
            X.0v0 r0 = r5.getWaSharedPreferences()
            android.content.SharedPreferences r1 = X.C36341k9.A0E(r0)
            java.lang.String r0 = "media_quality_tooltip_shown"
            boolean r0 = X.C36371kC.A1U(r1, r0)
            if (r0 != 0) goto L_0x00bc
            X.0wU r4 = r5.getWaWorkers()
            r2 = 1000(0x3e8, double:4.94E-321)
            r0 = 45
            X.74t r1 = new X.74t
            r1.<init>((java.lang.Object) r5, (int) r0)
            java.lang.String r0 = "TitleBarView/updateMediaQualityEnabledState"
            X.1jE r0 = r4.BpM(r1, r0, r2)
            r5.A0V = r0
        L_0x009f:
            X.6Fh r2 = r10.A10
            java.lang.Integer r0 = r10.A1S
            if (r0 == 0) goto L_0x00ba
            int r1 = r0.intValue()
            r0 = 3
            if (r1 != r0) goto L_0x00ba
            if (r6 == 0) goto L_0x00ba
        L_0x00ae:
            r2.A0A(r8)
            boolean r0 = r9 instanceof com.whatsapp.mediacomposer.ImageComposerFragment
            if (r0 == 0) goto L_0x00b9
            com.whatsapp.mediacomposer.ImageComposerFragment r9 = (com.whatsapp.mediacomposer.ImageComposerFragment) r9
            r9.A09 = r7
        L_0x00b9:
            return
        L_0x00ba:
            r8 = 0
            goto L_0x00ae
        L_0x00bc:
            boolean r0 = r5.A0Y
            if (r0 == 0) goto L_0x009f
            com.whatsapp.mediacomposer.doodle.titlebar.TitleBarView.A00(r5)
            goto L_0x009f
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.mediacomposer.MediaComposerActivity.A0l(com.whatsapp.mediacomposer.MediaComposerActivity):void");
    }

    public static void A0m(MediaComposerActivity mediaComposerActivity) {
        MediaComposerFragment A0F2 = A0F(mediaComposerActivity);
        if (A0F2 != null && !AnonymousClass143.A0L(C36401kF.A0w(mediaComposerActivity.A0s.A02))) {
            boolean A042 = mediaComposerActivity.A0p.A04(A0u(mediaComposerActivity));
            boolean A002 = mediaComposerActivity.A0r.A00();
            if (A042 || A002) {
                mediaComposerActivity.A04.Boy(new AnonymousClass73D(A0F2.A00, mediaComposerActivity, A042, A002));
            }
        }
    }

    public static void A0r(MediaComposerActivity mediaComposerActivity, boolean z) {
        long j;
        int A002;
        StringBuilder A0u2 = AnonymousClass000.A0u();
        A0u2.append("MediaComposerActivity/openContactPicker uris size = ");
        C36321k7.A1Y(A0u2, C36401kF.A00(mediaComposerActivity.A0s.A04));
        HashSet A162 = C36441kJ.A16();
        if (AnonymousClass000.A1S(C36341k9.A07(mediaComposerActivity.A0s.A07), 3)) {
            j = A01(mediaComposerActivity.A1r.A03((Uri) C36391kE.A0t(AnonymousClass6VT.A03(mediaComposerActivity))));
            AnonymousClass6VT r7 = mediaComposerActivity.A0s;
            C001700s r1 = r7.A04;
            if (0 >= C36401kF.A00(r1)) {
                A002 = -1;
            } else {
                A002 = C132366Tg.A00((Uri) C36401kF.A0w(r1).get(0), r7);
            }
            int i = 42;
            if (A002 == 3) {
                i = 43;
            }
            AnonymousClass000.A1F(A162, i);
        } else {
            Iterator it = C90494aF.A0g(mediaComposerActivity.A1r.A00).iterator();
            j = -1;
            while (it.hasNext()) {
                AnonymousClass6QO r12 = (AnonymousClass6QO) it.next();
                if (r12.A09() != null) {
                    A162.add(r12.A09());
                    j = Math.max(j, A01(r12));
                }
            }
        }
        if (C111075bh.A00(mediaComposerActivity.A0s.A01)) {
            A162.clear();
            AnonymousClass000.A1F(A162, 20);
        }
        List A0w2 = C36401kF.A0w(mediaComposerActivity.A0s.A02);
        AnonymousClass3OM r13 = new AnonymousClass3OM(mediaComposerActivity);
        r13.A0G = true;
        r13.A0c = A0w2;
        r13.A0L = true;
        r13.A0T = Long.valueOf(j);
        r13.A0a = C36441kJ.A15(A162);
        r13.A0M = Boolean.valueOf(z);
        Intent A022 = AnonymousClass3OM.A02(r13, "com.whatsapp.contact.picker.ContactPicker");
        mediaComposerActivity.A1F.A02(A022, AnonymousClass6VT.A01(mediaComposerActivity));
        mediaComposerActivity.startActivityForResult(A022, 1);
    }

    private boolean A0t() {
        int A092 = C90494aF.A09(this);
        if (A092 == 5 || A092 == 8 || A092 == 9 || A092 == 23 || A092 == 22 || A092 == 24 || A092 == 25 || A092 == 29 || A092 == 35 || A092 == 37 || A092 == 40) {
            return true;
        }
        return false;
    }

    public static boolean A0u(MediaComposerActivity mediaComposerActivity) {
        if (!AnonymousClass143.A0N(AnonymousClass6VT.A02(mediaComposerActivity)) || AnonymousClass143.A0M(AnonymousClass6VT.A02(mediaComposerActivity))) {
            return false;
        }
        return true;
    }

    public C21710zg A2K() {
        C21710zg A2K = super.A2K();
        C36321k7.A0s(A2K, this);
        return A2K;
    }

    public void A2X() {
        AnonymousClass1N6 r2;
        int i;
        AnonymousClass11F r0;
        if (!isDestroyed()) {
            if (AnonymousClass143.A0L(this.A0s.A0D)) {
                r2 = this.A1L;
                i = 30;
                r0 = (AnonymousClass11F) C36391kE.A0t(this.A0s.A0D);
            } else {
                if (AnonymousClass143.A0N(AnonymousClass6VT.A02(this))) {
                    r2 = this.A1L;
                    i = 18;
                    r0 = null;
                }
                super.A2X();
            }
            r2.A03(r0, i);
            super.A2X();
        }
    }

    public void A3j() {
        Integer num;
        if (AnonymousClass143.A0N(AnonymousClass6VT.A02(this))) {
            int i = 10;
            if (A0t()) {
                i = 12;
            }
            Integer valueOf = Integer.valueOf(i);
            this.A1H.A0A((Integer) null, valueOf, C29731Xt.A01(valueOf.intValue()));
        }
        A0j(this);
        C64953Qc r4 = this.A0P;
        List<Uri> A032 = AnonymousClass6VT.A03(this);
        AnonymousClass2RC r2 = r4.A01;
        if (r2 != null && (num = r2.A02) != null) {
            int intValue = num.intValue();
            if (intValue == 3 || intValue == 5 || intValue == 4) {
                if (A032 != null) {
                    Integer num2 = null;
                    for (Uri A0M2 : A032) {
                        int A002 = C36371kC.A00(AnonymousClass1GX.A0c(AnonymousClass1GW.A0M(A0M2, r4.A03.A01.A0O())) ? 1 : 0);
                        Integer valueOf2 = Integer.valueOf(A002);
                        if (!(num2 == null || num2 == valueOf2)) {
                            A002 = 3;
                        }
                        num2 = Integer.valueOf(A002);
                    }
                    r2 = r4.A01;
                    r2.A04 = num2;
                }
                r4.A03(r2.A02.intValue());
            }
        }
    }

    public int BDu(long j) {
        if (AnonymousClass143.A0N(AnonymousClass6VT.A02(this))) {
            return C55412ua.A00(this.A0D, j);
        }
        if (C90494aF.A09(this) == 35) {
            return this.A0D.A07(3402);
        }
        return -1;
    }

    public C18950u5 BGv() {
        return C19430v1.A02;
    }

    public void BQm() {
        MediaComposerFragment A0F2 = A0F(this);
        if (A0F2 == null || !A0F2.A1k()) {
            this.A1O.A02(1, 1, this.A0s.A06());
            if (this.A1h) {
                A0H();
                A0h(this);
                Intent A0D2 = C36431kI.A0D();
                A0D2.putParcelableArrayListExtra("android.intent.extra.STREAM", C90504aG.A0t(this.A0s.A04));
                A0D2.putStringArrayListExtra("jids", AnonymousClass143.A07(C36401kF.A0w(this.A0s.A02)));
                Integer num = this.A1S;
                if (num != null) {
                    A0D2.putExtra("media_quality_selection", num);
                }
                C132366Tg r0 = this.A1r;
                Bundle A072 = AnonymousClass001.A07();
                C132366Tg.A02(A072, r0);
                A0D2.putExtra("media_preview_params", A072);
                this.A1e = 1;
                setResult(1, A0D2);
                finish();
            } else if (!AnonymousClass143.A0L(this.A0s.A0D) || this.A0D.A0E(5643)) {
                Object[] objArr = new Object[1];
                this.A05.A0E(getString(R.string.f12nameremoved, objArr), C36361kB.A1b(objArr, this.A1d) ? 1 : 0);
            }
        }
    }

    public void Be3(int i) {
        AnonymousClass3XT A012 = AnonymousClass6VT.A01(this);
        this.A0s.A05.A0D(new AnonymousClass3XT(A012.A01, A012.A02, i, A012.A03, A012.A04));
        A3j();
    }

    public void BhS(int i) {
        MediaComposerFragment A0F2 = A0F(this);
        if (A0F2 instanceof ImageComposerFragment) {
            ((ImageComposerFragment) A0F2).A1n(i, true);
        } else if (A0F2 instanceof VideoComposerFragment) {
            ((VideoComposerFragment) A0F2).A1n(i, true);
        }
    }

    public void BhU(int i) {
        MediaComposerFragment A0F2 = A0F(this);
        if (A0F2 instanceof ImageComposerFragment) {
            ((ImageComposerFragment) A0F2).A1n(i, false);
        } else if (A0F2 instanceof VideoComposerFragment) {
            ((VideoComposerFragment) A0F2).A1n(i, false);
        }
    }

    public void BhZ() {
        A0j(this);
    }

    public void onActivityResult(int i, int i2, Intent intent) {
        super.onActivityResult(i, i2, intent);
        if (i == 1) {
            if (intent == null) {
                return;
            }
            if (i2 == -1) {
                this.A0s.A02.A0D(Collections.unmodifiableList(C36401kF.A0u(intent, AnonymousClass11F.class, "jids")));
                C18740tg.A06(intent);
                AnonymousClass3XT A012 = this.A1F.A01(intent.getExtras());
                if (A012 != null) {
                    this.A0s.A05.A0D(A012);
                }
                A0j(this);
            } else if (i2 == 0) {
                ArrayList A0u2 = C36401kF.A0u(intent, AnonymousClass11F.class, "jids");
                AnonymousClass3XT A013 = this.A1F.A01(intent.getExtras());
                this.A0s.A02.A0D(Collections.unmodifiableList(A0u2));
                AnonymousClass6VT r0 = this.A0s;
                C18740tg.A06(A013);
                r0.A05.A0D(A013);
                AnonymousClass6VT r1 = this.A0s;
                AnonymousClass6VT.A05(r1, AnonymousClass6VT.A00(r1));
            }
        } else if (i == 2 && i2 == -1 && intent != null) {
            A0Q(this.A1F.A01(intent.getExtras()), true);
        }
    }

    public void onBackPressed() {
        A0I();
    }

    public void onConfigurationChanged(Configuration configuration) {
        super.onConfigurationChanged(configuration);
        A0J();
    }

    public boolean onKeyDown(int i, KeyEvent keyEvent) {
        return super.onKeyDown(i, keyEvent);
    }

    public boolean onOptionsItemSelected(MenuItem menuItem) {
        if (menuItem.getItemId() != 16908332) {
            return super.onOptionsItemSelected(menuItem);
        }
        A0I();
        return true;
    }

    public void onResume() {
        super.onResume();
        A0l(this);
    }

    public void onSaveInstanceState(Bundle bundle) {
        super.onSaveInstanceState(bundle);
        bundle.putParcelableArrayList("uris", C90504aG.A0t(this.A0s.A04));
        ArrayList A0I2 = AnonymousClass001.A0I();
        for (Object obj : AnonymousClass6VT.A03(this)) {
            A0I2.add(this.A1v.get(obj));
        }
        bundle.putSerializable("ids", A0I2);
        bundle.putInt("position", C36341k9.A07(this.A0s.A03));
        bundle.putInt("view_once", C36341k9.A07(this.A0s.A07));
        Integer num = this.A1S;
        if (num != null) {
            bundle.putInt("media_quality_selection", num.intValue());
        }
        C132366Tg r0 = this.A1r;
        Bundle A072 = AnonymousClass001.A07();
        C132366Tg.A02(A072, r0);
        bundle.putBundle("media_preview_params", A072);
        bundle.putBoolean("optimistic_started", this.A12.A02);
    }

    public void onStart() {
        super.onStart();
        this.A1V = true;
        this.A12.A00 = true;
        A0o(this, C36341k9.A07(this.A0s.A03));
        if (this.A07.A04() == null && !this.A1b && this.A0t != null && this.A0U.A04() != C51512nw.DENIED) {
            ArrayList A0I2 = AnonymousClass001.A0I();
            for (Uri uri : AnonymousClass6VT.A03(this)) {
                File A072 = this.A1r.A03(uri).A07();
                if (A072 == null || !A072.exists()) {
                    A0I2.add(uri);
                }
            }
            int size = A0I2.size();
            if (size != 0) {
                AnonymousClass17Y r5 = this.A05;
                Object[] objArr = new Object[1];
                C36331k8.A1W(objArr, size);
                r5.A0E(this.A0V.A0L(objArr, R.plurals.f10nameremoved, (long) size), 1);
                if (size == C36401kF.A00(this.A0s.A04)) {
                    finish();
                    return;
                }
                Iterator it = A0I2.iterator();
                while (it.hasNext()) {
                    Uri uri2 = (Uri) it.next();
                    if (uri2 != null) {
                        A0L(uri2, this);
                    }
                }
            }
        }
    }

    public MediaComposerActivity() {
        this(0);
        this.A1e = 0;
        this.A1i = false;
        this.A1z = new C1503074t(this, 28);
        this.A1s = new C148296yd(this);
        this.A1r = new C132366Tg();
        this.A1v = AnonymousClass001.A0J();
        this.A1w = C36441kJ.A16();
        this.A1u = AnonymousClass001.A0I();
        this.A1y = C36341k9.A0H();
        this.A1q = C36341k9.A0H();
        this.A1p = AnonymousClass001.A06();
        this.A1o = new PointF();
        this.A1x = C36441kJ.A16();
        this.A1m = false;
        this.A1j = true;
        this.A1k = true;
        this.A1n = false;
        this.A1t = C165307tD.A00(this, 10);
        this.A1T = new C1503074t(this, 32);
        this.A1Z = false;
    }
}
